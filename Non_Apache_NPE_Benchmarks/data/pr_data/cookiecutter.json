[
    {
        "pr": "https://github.com/cookiecutter/cookiecutter/pull/905",
        "repo": "cookiecutter",
        "number": 905,
        "bug_id": "cookiecutter_905",
        "title": "Handle subprocess output.",
        "body": "Subprocess returns a bytestring, so comparisons with strings in python\r\n3.x throw unexpected errors. This patch decodes bytestrings to strings\r\nand updates tests to return realistic output.\r\n\r\nHere's some sample output when the target repo isn't found:\r\n\r\n```\r\n(cookiecutter)jmcarp@Joshuas-MBP-3|~/code/cookiecutter on master!\r\n\u00b1 cookiecutter https://github.com/not/exists\r\nTraceback (most recent call last):\r\n  File \"/Users/jmcarp/miniconda/envs/cookiecutter/lib/python3.6/site-packages/cookiecutter/vcs.py\", line 123, in clone\r\n    stderr=subprocess.STDOUT,\r\n  File \"/Users/jmcarp/miniconda/envs/cookiecutter/lib/python3.6/subprocess.py\", line 336, in check_output\r\n    **kwargs).stdout\r\n  File \"/Users/jmcarp/miniconda/envs/cookiecutter/lib/python3.6/subprocess.py\", line 418, in run\r\n    output=stdout, stderr=stderr)\r\nsubprocess.CalledProcessError: Command '['git', 'clone', 'https://github.com/not/exists']' returned non-zero exit status 128.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/jmcarp/miniconda/envs/cookiecutter/bin/cookiecutter\", line 11, in <module>\r\n    load_entry_point('cookiecutter==1.5.1', 'console_scripts', 'cookiecutter')()\r\n  File \"/Users/jmcarp/miniconda/envs/cookiecutter/lib/python3.6/site-packages/click/core.py\", line 722, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/Users/jmcarp/miniconda/envs/cookiecutter/lib/python3.6/site-packages/click/core.py\", line 697, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/Users/jmcarp/miniconda/envs/cookiecutter/lib/python3.6/site-packages/click/core.py\", line 895, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/Users/jmcarp/miniconda/envs/cookiecutter/lib/python3.6/site-packages/click/core.py\", line 535, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/Users/jmcarp/miniconda/envs/cookiecutter/lib/python3.6/site-packages/cookiecutter/cli.py\", line 123, in main\r\n    default_config=default_config,\r\n  File \"/Users/jmcarp/miniconda/envs/cookiecutter/lib/python3.6/site-packages/cookiecutter/main.py\", line 63, in cookiecutter\r\n    no_input=no_input,\r\n  File \"/Users/jmcarp/miniconda/envs/cookiecutter/lib/python3.6/site-packages/cookiecutter/repository.py\", line 84, in determine_repo_dir\r\n    no_input=no_input,\r\n  File \"/Users/jmcarp/miniconda/envs/cookiecutter/lib/python3.6/site-packages/cookiecutter/vcs.py\", line 132, in clone\r\n    if 'not found' in clone_error.output.lower():\r\nTypeError: a bytes-like object is required, not 'str'\r\n```",
        "date": "2017-08-11",
        "merge_hash": "c59e2980e6b1f75b37531f2158b89b4ae86577d0",
        "files": [
            {
                "sha": "3fb44a657a83d63d3751a2d4fd90bc9296e872a0",
                "filename": "cookiecutter/vcs.py",
                "status": "modified",
                "additions": 3,
                "deletions": 2,
                "changes": 5,
                "blob_url": "https://github.com/cookiecutter/cookiecutter/blob/c59e2980e6b1f75b37531f2158b89b4ae86577d0/cookiecutter/vcs.py",
                "raw_url": "https://github.com/cookiecutter/cookiecutter/raw/c59e2980e6b1f75b37531f2158b89b4ae86577d0/cookiecutter/vcs.py",
                "contents_url": "https://api.github.com/repos/cookiecutter/cookiecutter/contents/cookiecutter/vcs.py?ref=c59e2980e6b1f75b37531f2158b89b4ae86577d0"
            },
            {
                "sha": "efdfa714230831dcbdded697e8448a441ba9c109",
                "filename": "tests/vcs/test_clone.py",
                "status": "modified",
                "additions": 11,
                "deletions": 5,
                "changes": 16,
                "blob_url": "https://github.com/cookiecutter/cookiecutter/blob/c59e2980e6b1f75b37531f2158b89b4ae86577d0/tests/vcs/test_clone.py",
                "raw_url": "https://github.com/cookiecutter/cookiecutter/raw/c59e2980e6b1f75b37531f2158b89b4ae86577d0/tests/vcs/test_clone.py",
                "contents_url": "https://api.github.com/repos/cookiecutter/cookiecutter/contents/tests/vcs/test_clone.py?ref=c59e2980e6b1f75b37531f2158b89b4ae86577d0"
            }
        ]
    }
]