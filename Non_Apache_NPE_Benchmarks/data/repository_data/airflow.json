[
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/15395",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/15395/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/15395/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/15395/events",
        "html_url": "https://github.com/apache/airflow/pull/15395",
        "id": 859272305,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NjE2MzgwOTQ2",
        "number": 15395,
        "title": "Bugfix: ``TypeError`` when Serializing & sorting iterables",
        "user": {
            "login": "kaxil",
            "id": 8811558,
            "node_id": "MDQ6VXNlcjg4MTE1NTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kaxil",
            "html_url": "https://github.com/kaxil",
            "followers_url": "https://api.github.com/users/kaxil/followers",
            "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
            "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
            "organizations_url": "https://api.github.com/users/kaxil/orgs",
            "repos_url": "https://api.github.com/users/kaxil/repos",
            "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kaxil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1769805151,
                "node_id": "MDU6TGFiZWwxNzY5ODA1MTUx",
                "url": "https://api.github.com/repos/apache/airflow/labels/area:serialization",
                "name": "area:serialization",
                "color": "ededed",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/apache/airflow/milestones/28",
            "html_url": "https://github.com/apache/airflow/milestone/28",
            "labels_url": "https://api.github.com/repos/apache/airflow/milestones/28/labels",
            "id": 6371491,
            "node_id": "MDk6TWlsZXN0b25lNjM3MTQ5MQ==",
            "number": 28,
            "title": "Airflow 2.0.2",
            "description": "",
            "creator": {
                "login": "kaxil",
                "id": 8811558,
                "node_id": "MDQ6VXNlcjg4MTE1NTg=",
                "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/kaxil",
                "html_url": "https://github.com/kaxil",
                "followers_url": "https://api.github.com/users/kaxil/followers",
                "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
                "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
                "organizations_url": "https://api.github.com/users/kaxil/orgs",
                "repos_url": "https://api.github.com/users/kaxil/repos",
                "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
                "received_events_url": "https://api.github.com/users/kaxil/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 112,
            "state": "closed",
            "created_at": "2021-01-30T21:25:51Z",
            "updated_at": "2021-05-09T09:28:29Z",
            "due_on": "2021-04-17T07:00:00Z",
            "closed_at": "2021-04-22T14:25:04Z"
        },
        "comments": 1,
        "created_at": "2021-04-15T21:46:42Z",
        "updated_at": "2021-04-16T02:39:30Z",
        "closed_at": "2021-04-16T02:39:26Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/15395",
            "html_url": "https://github.com/apache/airflow/pull/15395",
            "diff_url": "https://github.com/apache/airflow/pull/15395.diff",
            "patch_url": "https://github.com/apache/airflow/pull/15395.patch"
        },
        "body": "This bug got introduced in #14909. Removed sorting from list and tuple as list & tuples preserve order unlike set.\r\n\r\nThe following DAG errors with: `TypeError: '<' not supported between instances of 'dict' and 'dict'`\r\n\r\n```python\r\nfrom airflow import models\r\nfrom airflow.operators.dummy import DummyOperator\r\nfrom datetime import datetime, timedelta\r\nparams = {\r\n    \"staging_schema\": [{\"key:\":\"foo\",\"value\":\"bar\"},\r\n                       {\"key:\":\"this\",\"value\":\"that\"}]\r\n}\r\n\r\nwith models.DAG(dag_id='test-dag',\r\n                start_date=datetime(2019, 2, 14),\r\n                schedule_interval='30 13 * * *',\r\n                catchup=False,\r\n                max_active_runs=1,\r\n                params=params\r\n                ) as dag:\r\n    my_task = DummyOperator(\r\n        task_id='task1'\r\n    )\r\n```\r\n\r\nFull Error:\r\n\r\n```\r\n  File \"/usr/local/lib/python3.7/site-packages/airflow/serialization/serialized_objects.py\", line 210, in <dictcomp>\r\n    return cls._encode({str(k): cls._serialize(v) for k, v in var.items()}, type_=DAT.DICT)\r\n  File \"/usr/local/lib/python3.7/site-packages/airflow/serialization/serialized_objects.py\", line 212, in _serialize\r\n    return sorted(cls._serialize(v) for v in var)\r\nTypeError: '<' not supported between instances of 'dict' and 'dict'\r\nDuring handling of the above exception, another exception occurred:\r\n...\r\n```\r\n\r\nThis is because `sorted()` does not work with dict as it can't compare. Removed sorting from list & tuples which fixes it.\r\nIt also fails when we have set with multiple types.\r\n\r\n<!--\r\nThank you for contributing! Please make sure that your code changes\r\nare covered with tests. And in case of new features or big changes\r\nremember to adjust the documentation.\r\n\r\nFeel free to ping committers for the review!\r\n\r\nIn case of existing issue, reference it using one of the following:\r\n\r\ncloses: #ISSUE\r\nrelated: #ISSUE\r\n\r\nHow to write a good git commit message:\r\nhttp://chris.beams.io/posts/git-commit/\r\n-->\r\n\r\n---\r\n**^ Add meaningful description above**\r\n\r\nRead the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.\r\nIn case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.\r\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\nIn case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/15585",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/15585/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/15585/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/15585/events",
        "html_url": "https://github.com/apache/airflow/pull/15585",
        "id": 870591225,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NjI1NzYzNDkw",
        "number": 15585,
        "title": "`func.sum` may returns `Decimal` that break rest APIs.",
        "user": {
            "login": "suiting-young",
            "id": 80445042,
            "node_id": "MDQ6VXNlcjgwNDQ1MDQy",
            "avatar_url": "https://avatars.githubusercontent.com/u/80445042?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/suiting-young",
            "html_url": "https://github.com/suiting-young",
            "followers_url": "https://api.github.com/users/suiting-young/followers",
            "following_url": "https://api.github.com/users/suiting-young/following{/other_user}",
            "gists_url": "https://api.github.com/users/suiting-young/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/suiting-young/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/suiting-young/subscriptions",
            "organizations_url": "https://api.github.com/users/suiting-young/orgs",
            "repos_url": "https://api.github.com/users/suiting-young/repos",
            "events_url": "https://api.github.com/users/suiting-young/events{/privacy}",
            "received_events_url": "https://api.github.com/users/suiting-young/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2021-04-29T04:07:03Z",
        "updated_at": "2021-04-29T14:26:39Z",
        "closed_at": "2021-04-29T14:26:39Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/15585",
            "html_url": "https://github.com/apache/airflow/pull/15585",
            "diff_url": "https://github.com/apache/airflow/pull/15585.diff",
            "patch_url": "https://github.com/apache/airflow/pull/15585.patch"
        },
        "body": "`sqlalchemy.func.sum` has a known *\"issue\"* that it **may** returns `Decimal` value (_in my case MySQL 5.7_).\r\n\r\nThis will cause problem when calling [rest APIs](https://airflow.apache.org/docs/apache-airflow/stable/stable-rest-api-ref.html#tag/Pool). E.g.\r\n```http\r\nGET /airflow/api/v1/pools?limit=100\r\n\r\n...\r\nTypeError: Object of type 'Decimal' is not JSON serializable\r\n```\r\n\r\n@ashb and @kaxil please have a review, thanks!",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/14513",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/14513/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/14513/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/14513/events",
        "html_url": "https://github.com/apache/airflow/pull/14513",
        "id": 817968032,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NTgxMzY1NDQz",
        "number": 14513,
        "title": "Bugfix: Fix TypeError in monitor_pod",
        "user": {
            "login": "eejbyfeldt",
            "id": 73838248,
            "node_id": "MDQ6VXNlcjczODM4MjQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/73838248?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eejbyfeldt",
            "html_url": "https://github.com/eejbyfeldt",
            "followers_url": "https://api.github.com/users/eejbyfeldt/followers",
            "following_url": "https://api.github.com/users/eejbyfeldt/following{/other_user}",
            "gists_url": "https://api.github.com/users/eejbyfeldt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/eejbyfeldt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/eejbyfeldt/subscriptions",
            "organizations_url": "https://api.github.com/users/eejbyfeldt/orgs",
            "repos_url": "https://api.github.com/users/eejbyfeldt/repos",
            "events_url": "https://api.github.com/users/eejbyfeldt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/eejbyfeldt/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 2504183113,
                "node_id": "MDU6TGFiZWwyNTA0MTgzMTEz",
                "url": "https://api.github.com/repos/apache/airflow/labels/area:kubernetes",
                "name": "area:kubernetes",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/apache/airflow/milestones/28",
            "html_url": "https://github.com/apache/airflow/milestone/28",
            "labels_url": "https://api.github.com/repos/apache/airflow/milestones/28/labels",
            "id": 6371491,
            "node_id": "MDk6TWlsZXN0b25lNjM3MTQ5MQ==",
            "number": 28,
            "title": "Airflow 2.0.2",
            "description": "",
            "creator": {
                "login": "kaxil",
                "id": 8811558,
                "node_id": "MDQ6VXNlcjg4MTE1NTg=",
                "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/kaxil",
                "html_url": "https://github.com/kaxil",
                "followers_url": "https://api.github.com/users/kaxil/followers",
                "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
                "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
                "organizations_url": "https://api.github.com/users/kaxil/orgs",
                "repos_url": "https://api.github.com/users/kaxil/repos",
                "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
                "received_events_url": "https://api.github.com/users/kaxil/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 112,
            "state": "closed",
            "created_at": "2021-01-30T21:25:51Z",
            "updated_at": "2021-05-09T09:28:29Z",
            "due_on": "2021-04-17T07:00:00Z",
            "closed_at": "2021-04-22T14:25:04Z"
        },
        "comments": 2,
        "created_at": "2021-02-27T16:47:48Z",
        "updated_at": "2021-03-01T13:58:03Z",
        "closed_at": "2021-03-01T13:58:01Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/14513",
            "html_url": "https://github.com/apache/airflow/pull/14513",
            "diff_url": "https://github.com/apache/airflow/pull/14513.diff",
            "patch_url": "https://github.com/apache/airflow/pull/14513.patch"
        },
        "body": "We have seen several task failures because of this issue.\r\n\r\nIf the log read is interrupted before any logs are produced then\r\n`last_log_time` will not be set and the line\r\n`delta = pendulum.now() - last_log_time` will fail with\r\n```\r\nTypeError: unsupported operand type(s) for -: 'DateTime' and 'NoneType'\r\n```\r\n\r\nThis commit fix this issue by only updating `read_logs_since_sec` if\r\n`last_log_time` has been set.",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/15132",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/15132/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/15132/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/15132/events",
        "html_url": "https://github.com/apache/airflow/pull/15132",
        "id": 848394592,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NjA3MzM5ODA4",
        "number": 15132,
        "title": "Fix bug in airflow.stats timing that broke dogstatsd mode",
        "user": {
            "login": "ashb",
            "id": 34150,
            "node_id": "MDQ6VXNlcjM0MTUw",
            "avatar_url": "https://avatars.githubusercontent.com/u/34150?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ashb",
            "html_url": "https://github.com/ashb",
            "followers_url": "https://api.github.com/users/ashb/followers",
            "following_url": "https://api.github.com/users/ashb/following{/other_user}",
            "gists_url": "https://api.github.com/users/ashb/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ashb/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ashb/subscriptions",
            "organizations_url": "https://api.github.com/users/ashb/orgs",
            "repos_url": "https://api.github.com/users/ashb/repos",
            "events_url": "https://api.github.com/users/ashb/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ashb/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/apache/airflow/milestones/28",
            "html_url": "https://github.com/apache/airflow/milestone/28",
            "labels_url": "https://api.github.com/repos/apache/airflow/milestones/28/labels",
            "id": 6371491,
            "node_id": "MDk6TWlsZXN0b25lNjM3MTQ5MQ==",
            "number": 28,
            "title": "Airflow 2.0.2",
            "description": "",
            "creator": {
                "login": "kaxil",
                "id": 8811558,
                "node_id": "MDQ6VXNlcjg4MTE1NTg=",
                "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/kaxil",
                "html_url": "https://github.com/kaxil",
                "followers_url": "https://api.github.com/users/kaxil/followers",
                "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
                "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
                "organizations_url": "https://api.github.com/users/kaxil/orgs",
                "repos_url": "https://api.github.com/users/kaxil/repos",
                "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
                "received_events_url": "https://api.github.com/users/kaxil/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 112,
            "state": "closed",
            "created_at": "2021-01-30T21:25:51Z",
            "updated_at": "2021-05-09T09:28:29Z",
            "due_on": "2021-04-17T07:00:00Z",
            "closed_at": "2021-04-22T14:25:04Z"
        },
        "comments": 0,
        "created_at": "2021-04-01T11:49:50Z",
        "updated_at": "2021-04-01T13:46:35Z",
        "closed_at": "2021-04-01T13:46:32Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/15132",
            "html_url": "https://github.com/apache/airflow/pull/15132",
            "diff_url": "https://github.com/apache/airflow/pull/15132.diff",
            "patch_url": "https://github.com/apache/airflow/pull/15132.patch"
        },
        "body": "The fix for this was very easy -- just a `timer` -> `timed` typo.\n\nHowever it turns out that the tests for airflow.stats were insufficient\nand didn't catch this, so I have extended the tests in two ways:\n\n1. Test all the other stat methods than just incr (guage, timer, timing,\n   decr)\n2. Use \"auto-specing\" feature of Mock to ensure that we can't make up\n   methods to call on a mock object.\n\n   > Autospeccing is based on the existing spec feature of mock.\n   > It limits the api of mocks to the api of an original object (the\n   > spec), but it is recursive (implemented lazily) so that attributes of\n   > mocks only have the same api as the attributes of the spec. In\n   > addition mocked functions / methods have the same call signature as\n   > the original so they raise a TypeError if they are called\n   > incorrectly.\n\nFixed #14839\n<!--\nThank you for contributing! Please make sure that your code changes\nare covered with tests. And in case of new features or big changes\nremember to adjust the documentation.\n\nFeel free to ping committers for the review!\n\nIn case of existing issue, reference it using one of the following:\n\ncloses: #ISSUE\nrelated: #ISSUE\n\nHow to write a good git commit message:\nhttp://chris.beams.io/posts/git-commit/\n-->\n\n---\n**^ Add meaningful description above**\n\nRead the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.\nIn case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\nIn case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/14456",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/14456/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/14456/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/14456/events",
        "html_url": "https://github.com/apache/airflow/pull/14456",
        "id": 816359440,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NTgwMDM0MjE4",
        "number": 14456,
        "title": "Fix logging error with task error when JSON logging is enabled",
        "user": {
            "login": "ashb",
            "id": 34150,
            "node_id": "MDQ6VXNlcjM0MTUw",
            "avatar_url": "https://avatars.githubusercontent.com/u/34150?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ashb",
            "html_url": "https://github.com/ashb",
            "followers_url": "https://api.github.com/users/ashb/followers",
            "following_url": "https://api.github.com/users/ashb/following{/other_user}",
            "gists_url": "https://api.github.com/users/ashb/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ashb/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ashb/subscriptions",
            "organizations_url": "https://api.github.com/users/ashb/orgs",
            "repos_url": "https://api.github.com/users/ashb/repos",
            "events_url": "https://api.github.com/users/ashb/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ashb/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 2451280808,
                "node_id": "MDU6TGFiZWwyNDUxMjgwODA4",
                "url": "https://api.github.com/repos/apache/airflow/labels/full%20tests%20needed",
                "name": "full tests needed",
                "color": "e0c514",
                "default": false,
                "description": "We need to run full set of tests for this PR to merge"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/apache/airflow/milestones/28",
            "html_url": "https://github.com/apache/airflow/milestone/28",
            "labels_url": "https://api.github.com/repos/apache/airflow/milestones/28/labels",
            "id": 6371491,
            "node_id": "MDk6TWlsZXN0b25lNjM3MTQ5MQ==",
            "number": 28,
            "title": "Airflow 2.0.2",
            "description": "",
            "creator": {
                "login": "kaxil",
                "id": 8811558,
                "node_id": "MDQ6VXNlcjg4MTE1NTg=",
                "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/kaxil",
                "html_url": "https://github.com/kaxil",
                "followers_url": "https://api.github.com/users/kaxil/followers",
                "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
                "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
                "organizations_url": "https://api.github.com/users/kaxil/orgs",
                "repos_url": "https://api.github.com/users/kaxil/repos",
                "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
                "received_events_url": "https://api.github.com/users/kaxil/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 112,
            "state": "closed",
            "created_at": "2021-01-30T21:25:51Z",
            "updated_at": "2021-05-09T09:28:29Z",
            "due_on": "2021-04-17T07:00:00Z",
            "closed_at": "2021-04-22T14:25:04Z"
        },
        "comments": 2,
        "created_at": "2021-02-25T11:42:32Z",
        "updated_at": "2021-02-25T13:25:13Z",
        "closed_at": "2021-02-25T13:25:04Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/14456",
            "html_url": "https://github.com/apache/airflow/pull/14456",
            "diff_url": "https://github.com/apache/airflow/pull/14456.diff",
            "patch_url": "https://github.com/apache/airflow/pull/14456.patch"
        },
        "body": "If the JSON logging mode for Elasticsearch logs is enabled, the\nhandle_failure function would fail, as it tried to treat the exception\nobject as the message and try to JSON serialize it (it expected a\nstring) -- which fails with:\n\n```\nTypeError: Object of type type is not JSON serializable\n...\n  File \"/usr/local/lib/python3.7/site-packages/airflow/models/taskinstance.py\", line 1150, in handle_failure\n    self.log.exception(error)\n...\n  File \"/usr/local/lib/python3.7/site-packages/airflow/utils/log/file_task_handler.py\", line 63, in emit\n    self.handler.emit(record)\n```\n\n\n<!--\nThank you for contributing! Please make sure that your code changes\nare covered with tests. And in case of new features or big changes\nremember to adjust the documentation.\n\nFeel free to ping committers for the review!\n\nIn case of existing issue, reference it using one of the following:\n\ncloses: #ISSUE\nrelated: #ISSUE\n\nHow to write a good git commit message:\nhttp://chris.beams.io/posts/git-commit/\n-->\n\n---\n**^ Add meaningful description above**\n\nRead the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.\nIn case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\nIn case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/14289",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/14289/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/14289/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/14289/events",
        "html_url": "https://github.com/apache/airflow/pull/14289",
        "id": 810840247,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NTc1NDY0NTU5",
        "number": 14289,
        "title": "Don't allow SlackHook accept *args",
        "user": {
            "login": "Khrol",
            "id": 3982146,
            "node_id": "MDQ6VXNlcjM5ODIxNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3982146?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Khrol",
            "html_url": "https://github.com/Khrol",
            "followers_url": "https://api.github.com/users/Khrol/followers",
            "following_url": "https://api.github.com/users/Khrol/following{/other_user}",
            "gists_url": "https://api.github.com/users/Khrol/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Khrol/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Khrol/subscriptions",
            "organizations_url": "https://api.github.com/users/Khrol/orgs",
            "repos_url": "https://api.github.com/users/Khrol/repos",
            "events_url": "https://api.github.com/users/Khrol/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Khrol/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 2458345138,
                "node_id": "MDU6TGFiZWwyNDU4MzQ1MTM4",
                "url": "https://api.github.com/repos/apache/airflow/labels/okay%20to%20merge",
                "name": "okay to merge",
                "color": "64e05c",
                "default": false,
                "description": "It's ok to merge this PR as it does not require more tests"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2021-02-18T07:30:11Z",
        "updated_at": "2021-02-18T12:59:03Z",
        "closed_at": "2021-02-18T12:51:36Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/14289",
            "html_url": "https://github.com/apache/airflow/pull/14289",
            "diff_url": "https://github.com/apache/airflow/pull/14289.diff",
            "patch_url": "https://github.com/apache/airflow/pull/14289.patch"
        },
        "body": "Underlying Slack WebClient doesn't accept *args anymore\r\n\r\n<img width=\"482\" alt=\"Screenshot 2021-02-18 at 09 06 33\" src=\"https://user-images.githubusercontent.com/3982146/108320588-ad04ba00-71cb-11eb-9000-0fd946fd6f57.png\">\r\n\r\n```\r\n>>> from airflow.providers.slack.hooks.slack import SlackHook\r\n>>> alert = SlackHook('...')\r\n>>> alert.call('chat.postMessage', {'text': 'Igor is testing', 'channel': 'test-channel'})\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/khroliz/.local/share/virtualenvs/parcel-vGquKnoL/lib/python3.8/site-packages/airflow/providers/slack/hooks/slack.py\", line 103, in call\r\n    self.client.api_call(api_method, *args, **kwargs)\r\nTypeError: api_call() takes 2 positional arguments but 3 were given\r\n>>> alert.call('chat.postMessage', data={'text': 'Igor is testing', 'channel': 'test-channel'})\r\n```\r\n\r\n<!--\r\nThank you for contributing! Please make sure that your code changes\r\nare covered with tests. And in case of new features or big changes\r\nremember to adjust the documentation.\r\n\r\nFeel free to ping committers for the review!\r\n\r\nIn case of existing issue, reference it using one of the following:\r\n\r\ncloses: #ISSUE\r\nrelated: #ISSUE\r\n\r\nHow to write a good git commit message:\r\nhttp://chris.beams.io/posts/git-commit/\r\n-->\r\n\r\n---\r\n**^ Add meaningful description above**\r\n\r\nRead the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.\r\nIn case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.\r\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\nIn case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/14452",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/14452/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/14452/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/14452/events",
        "html_url": "https://github.com/apache/airflow/pull/14452",
        "id": 816266319,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NTc5OTU2MDMz",
        "number": 14452,
        "title": "Gracefully handle missing start_date and end_date for DagRun",
        "user": {
            "login": "RikHeijdens",
            "id": 7520719,
            "node_id": "MDQ6VXNlcjc1MjA3MTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7520719?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RikHeijdens",
            "html_url": "https://github.com/RikHeijdens",
            "followers_url": "https://api.github.com/users/RikHeijdens/followers",
            "following_url": "https://api.github.com/users/RikHeijdens/following{/other_user}",
            "gists_url": "https://api.github.com/users/RikHeijdens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RikHeijdens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RikHeijdens/subscriptions",
            "organizations_url": "https://api.github.com/users/RikHeijdens/orgs",
            "repos_url": "https://api.github.com/users/RikHeijdens/repos",
            "events_url": "https://api.github.com/users/RikHeijdens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RikHeijdens/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1545584474,
                "node_id": "MDU6TGFiZWwxNTQ1NTg0NDc0",
                "url": "https://api.github.com/repos/apache/airflow/labels/area:webserver",
                "name": "area:webserver",
                "color": "a9db3f",
                "default": false,
                "description": "Webserver related Issues"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/apache/airflow/milestones/28",
            "html_url": "https://github.com/apache/airflow/milestone/28",
            "labels_url": "https://api.github.com/repos/apache/airflow/milestones/28/labels",
            "id": 6371491,
            "node_id": "MDk6TWlsZXN0b25lNjM3MTQ5MQ==",
            "number": 28,
            "title": "Airflow 2.0.2",
            "description": "",
            "creator": {
                "login": "kaxil",
                "id": 8811558,
                "node_id": "MDQ6VXNlcjg4MTE1NTg=",
                "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/kaxil",
                "html_url": "https://github.com/kaxil",
                "followers_url": "https://api.github.com/users/kaxil/followers",
                "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
                "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
                "organizations_url": "https://api.github.com/users/kaxil/orgs",
                "repos_url": "https://api.github.com/users/kaxil/repos",
                "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
                "received_events_url": "https://api.github.com/users/kaxil/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 112,
            "state": "closed",
            "created_at": "2021-01-30T21:25:51Z",
            "updated_at": "2021-05-09T09:28:29Z",
            "due_on": "2021-04-17T07:00:00Z",
            "closed_at": "2021-04-22T14:25:04Z"
        },
        "comments": 0,
        "created_at": "2021-02-25T09:44:24Z",
        "updated_at": "2021-02-25T14:52:37Z",
        "closed_at": "2021-02-25T14:40:39Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/14452",
            "html_url": "https://github.com/apache/airflow/pull/14452",
            "diff_url": "https://github.com/apache/airflow/pull/14452.diff",
            "patch_url": "https://github.com/apache/airflow/pull/14452.patch"
        },
        "body": "closes: https://github.com/apache/airflow/issues/14384\r\n\r\nThis PR fixes two issues:\r\n1. A `TypeError` that would be raised from `_emit_duration_stats_for_finished_state()` when the scheduler transitions a `DagRun` from a `running` state into a `success` or `failed` state if the `DagRun` did not have a `start_date` or `end_date` set.\r\n2. An issue with the `DagRunEditForm`, which would clear the `start_date` and `end_date` for a DagRun, if the form was used to transition a `DagRun` from a `failed` state back into a `running` state (or any other state). In the event where the scheduler would determine the `DagRun` should've been in the `failed` or `success` state (e.g. because the task instances weren't cleared), then this would lead to a scheduler crash.\r\n\r\n---\r\n**^ Add meaningful description above**\r\n\r\nRead the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.\r\nIn case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.\r\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\nIn case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/14686",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/14686/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/14686/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/14686/events",
        "html_url": "https://github.com/apache/airflow/pull/14686",
        "id": 826511511,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NTg4NTA5MDQ0",
        "number": 14686,
        "title": "Elasticsearch Provider: Fix logs downloading for tasks",
        "user": {
            "login": "kaxil",
            "id": 8811558,
            "node_id": "MDQ6VXNlcjg4MTE1NTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kaxil",
            "html_url": "https://github.com/kaxil",
            "followers_url": "https://api.github.com/users/kaxil/followers",
            "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
            "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
            "organizations_url": "https://api.github.com/users/kaxil/orgs",
            "repos_url": "https://api.github.com/users/kaxil/repos",
            "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kaxil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1769748000,
                "node_id": "MDU6TGFiZWwxNzY5NzQ4MDAw",
                "url": "https://api.github.com/repos/apache/airflow/labels/area:logging",
                "name": "area:logging",
                "color": "ededed",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2021-03-09T19:26:54Z",
        "updated_at": "2021-03-09T20:39:07Z",
        "closed_at": "2021-03-09T20:39:04Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/14686",
            "html_url": "https://github.com/apache/airflow/pull/14686",
            "diff_url": "https://github.com/apache/airflow/pull/14686.diff",
            "patch_url": "https://github.com/apache/airflow/pull/14686.patch"
        },
        "body": "Without this, Webserver fails with the following error. It happens because of https://github.com/apache/airflow/blob/99aab051600715a1ad029ce45a197a8492e5a151/airflow/providers/elasticsearch/log/es_task_handler.py#L165-L168:\r\n\r\n```\r\n[2021-03-09 18:55:19,640] {base.py:122} INFO - POST http://aa.aa:9200/_count [status:200 request:0.142s]\r\n[2021-03-09 18:55:19 +0000] [64] [ERROR] Error handling request\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/site-packages/gunicorn/workers/sync.py\", line 181, in handle_request\r\n    for item in respiter:\r\n  File \"/usr/local/lib/python3.7/site-packages/werkzeug/wsgi.py\", line 506, in __next__\r\n    return self._next()\r\n  File \"/usr/local/lib/python3.7/site-packages/werkzeug/wrappers/base_response.py\", line 45, in _iter_encoded\r\n    for item in iterable:\r\n  File \"/usr/local/lib/python3.7/site-packages/airflow/utils/log/log_reader.py\", line 84, in read_log_stream\r\n    logs, metadata = self.read_log_chunks(ti, current_try_number, metadata)\r\n  File \"/usr/local/lib/python3.7/site-packages/airflow/utils/log/log_reader.py\", line 58, in read_log_chunks\r\n    logs, metadatas = self.log_handler.read(ti, try_number, metadata=metadata)\r\n  File \"/usr/local/lib/python3.7/site-packages/airflow/utils/log/file_task_handler.py\", line 217, in read\r\n    log, metadata = self._read(task_instance, try_number_element, metadata)\r\n  File \"/usr/local/lib/python3.7/site-packages/airflow/providers/elasticsearch/log/es_task_handler.py\", line 186, in _read\r\n    and offset >= metadata['max_offset']\r\nTypeError: '>=' not supported between instances of 'str' and 'int'\r\n```\r\n\r\n<!--\r\nThank you for contributing! Please make sure that your code changes\r\nare covered with tests. And in case of new features or big changes\r\nremember to adjust the documentation.\r\n\r\nFeel free to ping committers for the review!\r\n\r\nIn case of existing issue, reference it using one of the following:\r\n\r\ncloses: #ISSUE\r\nrelated: #ISSUE\r\n\r\nHow to write a good git commit message:\r\nhttp://chris.beams.io/posts/git-commit/\r\n-->\r\n\r\n---\r\n**^ Add meaningful description above**\r\n\r\nRead the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.\r\nIn case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.\r\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\nIn case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/14406",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/14406/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/14406/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/14406/events",
        "html_url": "https://github.com/apache/airflow/pull/14406",
        "id": 814949379,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NTc4ODU1NjM3",
        "number": 14406,
        "title": "Make TaskInstance.pool_slots not nullable with a default of 1",
        "user": {
            "login": "kaxil",
            "id": 8811558,
            "node_id": "MDQ6VXNlcjg4MTE1NTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kaxil",
            "html_url": "https://github.com/kaxil",
            "followers_url": "https://api.github.com/users/kaxil/followers",
            "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
            "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
            "organizations_url": "https://api.github.com/users/kaxil/orgs",
            "repos_url": "https://api.github.com/users/kaxil/repos",
            "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kaxil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 2451280808,
                "node_id": "MDU6TGFiZWwyNDUxMjgwODA4",
                "url": "https://api.github.com/repos/apache/airflow/labels/full%20tests%20needed",
                "name": "full tests needed",
                "color": "e0c514",
                "default": false,
                "description": "We need to run full set of tests for this PR to merge"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/apache/airflow/milestones/28",
            "html_url": "https://github.com/apache/airflow/milestone/28",
            "labels_url": "https://api.github.com/repos/apache/airflow/milestones/28/labels",
            "id": 6371491,
            "node_id": "MDk6TWlsZXN0b25lNjM3MTQ5MQ==",
            "number": 28,
            "title": "Airflow 2.0.2",
            "description": "",
            "creator": {
                "login": "kaxil",
                "id": 8811558,
                "node_id": "MDQ6VXNlcjg4MTE1NTg=",
                "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/kaxil",
                "html_url": "https://github.com/kaxil",
                "followers_url": "https://api.github.com/users/kaxil/followers",
                "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
                "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
                "organizations_url": "https://api.github.com/users/kaxil/orgs",
                "repos_url": "https://api.github.com/users/kaxil/repos",
                "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
                "received_events_url": "https://api.github.com/users/kaxil/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 112,
            "state": "closed",
            "created_at": "2021-01-30T21:25:51Z",
            "updated_at": "2021-05-09T09:28:29Z",
            "due_on": "2021-04-17T07:00:00Z",
            "closed_at": "2021-04-22T14:25:04Z"
        },
        "comments": 2,
        "created_at": "2021-02-24T00:21:35Z",
        "updated_at": "2021-02-25T02:56:43Z",
        "closed_at": "2021-02-25T02:56:40Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/14406",
            "html_url": "https://github.com/apache/airflow/pull/14406",
            "diff_url": "https://github.com/apache/airflow/pull/14406.diff",
            "patch_url": "https://github.com/apache/airflow/pull/14406.patch"
        },
        "body": "closes https://github.com/apache/airflow/issues/13799\r\n\r\nWithout it the migration from 1.10.14 to 2.0.0 can fail with following error for old TIs:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/dist-packages/airflow/jobs/scheduler_job.py\", line 1275, in _execute\r\n    self._run_scheduler_loop()\r\n  File \"/usr/local/lib/python3.6/dist-packages/airflow/jobs/scheduler_job.py\", line 1377, in _run_scheduler_loop\r\n    num_queued_tis = self._do_scheduling(session)\r\n  File \"/usr/local/lib/python3.6/dist-packages/airflow/jobs/scheduler_job.py\", line 1533, in _do_scheduling\r\n    num_queued_tis = self._critical_section_execute_task_instances(session=session)\r\n  File \"/usr/local/lib/python3.6/dist-packages/airflow/jobs/scheduler_job.py\", line 1132, in _critical_section_execute_task_instances\r\n    queued_tis = self._executable_task_instances_to_queued(max_tis, session=session)\r\n  File \"/usr/local/lib/python3.6/dist-packages/airflow/utils/session.py\", line 62, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/airflow/jobs/scheduler_job.py\", line 1034, in _executable_task_instances_to_queued\r\n    if task_instance.pool_slots > open_slots:\r\nTypeError: '>' not supported between instances of 'NoneType' and 'int'\r\n```\r\n\r\nWorkaround was to run manually:\r\n\r\n```sql\r\nUPDATE task_instance SET pool_slots = 1 WHERE pool_slots IS NULL;\r\n```\r\n\r\nThis commit makes adds a DB migration to change the value to 1 for records with NULL value. And makes the column NOT NULLABLE.\r\n\r\nThis bug was caused by https://github.com/apache/airflow/pull/7160\r\n\r\n<!--\r\nThank you for contributing! Please make sure that your code changes\r\nare covered with tests. And in case of new features or big changes\r\nremember to adjust the documentation.\r\n\r\nFeel free to ping committers for the review!\r\n\r\nIn case of existing issue, reference it using one of the following:\r\n\r\ncloses: #ISSUE\r\nrelated: #ISSUE\r\n\r\nHow to write a good git commit message:\r\nhttp://chris.beams.io/posts/git-commit/\r\n-->\r\n\r\n---\r\n**^ Add meaningful description above**\r\n\r\nRead the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.\r\nIn case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.\r\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\nIn case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/11796",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/11796/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/11796/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/11796/events",
        "html_url": "https://github.com/apache/airflow/pull/11796",
        "id": 728492696,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NTA5MTkxNzM5",
        "number": 11796,
        "title": "Fix backwards compatibility with k8s executor_config resources",
        "user": {
            "login": "jedcunningham",
            "id": 66968678,
            "node_id": "MDQ6VXNlcjY2OTY4Njc4",
            "avatar_url": "https://avatars.githubusercontent.com/u/66968678?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jedcunningham",
            "html_url": "https://github.com/jedcunningham",
            "followers_url": "https://api.github.com/users/jedcunningham/followers",
            "following_url": "https://api.github.com/users/jedcunningham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jedcunningham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jedcunningham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jedcunningham/subscriptions",
            "organizations_url": "https://api.github.com/users/jedcunningham/orgs",
            "repos_url": "https://api.github.com/users/jedcunningham/repos",
            "events_url": "https://api.github.com/users/jedcunningham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jedcunningham/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2020-10-23T20:04:05Z",
        "updated_at": "2021-03-27T22:55:17Z",
        "closed_at": "2020-10-23T21:23:08Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/11796",
            "html_url": "https://github.com/apache/airflow/pull/11796",
            "diff_url": "https://github.com/apache/airflow/pull/11796.diff",
            "patch_url": "https://github.com/apache/airflow/pull/11796.patch"
        },
        "body": "Ran across this issue when testing out the Airflow 2.0.0 alpha 1, specifically the backwards compatibility of resources via `executor_config`:\r\n\r\n```\r\nPythonOperator(\r\n        task_id=\"eat\",\r\n        python_callable=eat,\r\n        executor_config={\r\n            \"KubernetesExecutor\": {\"request_memory\": \"128Mi\", \"limit_memory\": \"128Mi\",},\r\n        },\r\n    )\r\n```\r\n\r\nResults in:\r\n```\r\n/some/path/site-packages/airflow/kubernetes/pod_generator.py:202: DeprecationWarning: Using a dictionary for the executor_config is deprecated and will soon be removed.please use a `kubernetes.client.models.V1Pod` class with a \"pod_\r\noverride\" key instead.                                                                    \r\n  category=DeprecationWarning)                                                                                                                       \r\n[2020-10-23 15:21:06,806] {scheduler_job.py:1335} ERROR - Exception when executing SchedulerJob._run_scheduler_loop                                                                                      \r\nTraceback (most recent call last):                                                                                                                                                                       \r\n  File \"/some/path/site-packages/airflow/jobs/scheduler_job.py\", line 1316, in _execute\r\n    self._run_scheduler_loop()\r\n  File \"/some/path/site-packages/airflow/jobs/scheduler_job.py\", line 1391, in _run_scheduler_loop\r\n    self.executor.heartbeat()\r\n  File \"/some/path/site-packages/airflow/executors/base_executor.py\", line 156, in heartbeat\r\n    self.trigger_tasks(open_slots)\r\n  File \"/some/path/site-packages/airflow/executors/base_executor.py\", line 188, in trigger_tasks\r\n    executor_config=ti.executor_config)\r\n  File \"/some/path/site-packages/airflow/executors/kubernetes_executor.py\", line 612, in execute_async\r\n    kube_executor_config = PodGenerator.from_obj(executor_config)\r\n  File \"/some/path/site-packages/airflow/kubernetes/pod_generator.py\", line 203, in from_obj\r\n    return PodGenerator.from_legacy_obj(obj)\r\n  File \"/some/path/site-packages/airflow/kubernetes/pod_generator.py\", line 244, in from_legacy_obj\r\n    return PodGeneratorDeprecated(**namespaced).gen_pod()\r\nTypeError: __init__() got an unexpected keyword argument 'request_memory'\r\n```\r\n\r\nI did look for test coverage for the backwards compatibility layer but came up empty. Did I miss it?",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/13816",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/13816/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/13816/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/13816/events",
        "html_url": "https://github.com/apache/airflow/pull/13816",
        "id": 791383121,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NTU5NDUxODEy",
        "number": 13816,
        "title": "[kubernetes_generate_dag_yaml] - Fix dag yaml generate func in version 1.10.14",
        "user": {
            "login": "Lord-Y",
            "id": 8832734,
            "node_id": "MDQ6VXNlcjg4MzI3MzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8832734?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Lord-Y",
            "html_url": "https://github.com/Lord-Y",
            "followers_url": "https://api.github.com/users/Lord-Y/followers",
            "following_url": "https://api.github.com/users/Lord-Y/following{/other_user}",
            "gists_url": "https://api.github.com/users/Lord-Y/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Lord-Y/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Lord-Y/subscriptions",
            "organizations_url": "https://api.github.com/users/Lord-Y/orgs",
            "repos_url": "https://api.github.com/users/Lord-Y/repos",
            "events_url": "https://api.github.com/users/Lord-Y/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Lord-Y/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1672279581,
                "node_id": "MDU6TGFiZWwxNjcyMjc5NTgx",
                "url": "https://api.github.com/repos/apache/airflow/labels/area:CLI",
                "name": "area:CLI",
                "color": "e99695",
                "default": false,
                "description": ""
            },
            {
                "id": 2451280808,
                "node_id": "MDU6TGFiZWwyNDUxMjgwODA4",
                "url": "https://api.github.com/repos/apache/airflow/labels/full%20tests%20needed",
                "name": "full tests needed",
                "color": "e0c514",
                "default": false,
                "description": "We need to run full set of tests for this PR to merge"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2021-01-21T18:11:15Z",
        "updated_at": "2021-02-04T19:11:53Z",
        "closed_at": "2021-02-04T19:11:51Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/13816",
            "html_url": "https://github.com/apache/airflow/pull/13816",
            "diff_url": "https://github.com/apache/airflow/pull/13816.diff",
            "patch_url": "https://github.com/apache/airflow/pull/13816.patch"
        },
        "body": "Signed-off-by: Lord-Y <Lord-Y@users.noreply.github.com>\r\n\r\nWhen trying to debug the generated yaml pod to see why I'm not having the right docker image I got this error:\r\n\r\n```\r\nairflow kubernetes generate-dag-yaml DAG_NAME 2021-01-19T20:00:00+00:00\r\n\r\n[2021-01-21 09:52:56,314] {{__init__.py:50}} INFO - Using executor KubernetesExecutor\r\n[2021-01-21 09:52:56,317] {{dagbag.py:417}} INFO - Filling up the DagBag from /opt/airflow/dags/airflow-dags.git\r\nTraceback (most recent call last):\r\n  File \"/home/airflow/.local/bin/airflow\", line 37, in <module>\r\n    args.func(args)\r\n  File \"/home/airflow/.local/lib/python3.8/site-packages/airflow/utils/cli.py\", line 233, in wrapper\r\n    func(args)\r\n  File \"/home/airflow/.local/lib/python3.8/site-packages/airflow/utils/cli.py\", line 81, in wrapper\r\n    return f(*args, **kwargs)\r\n  File \"/home/airflow/.local/lib/python3.8/site-packages/airflow/bin/cli.py\", line 1367, in kubernetes_generate_dag_yaml\r\n    pod = PodGenerator.construct_pod(\r\nTypeError: construct_pod() got an unexpected keyword argument 'kube_executor_config'\r\n```\r\nAfter fixing `kube_executor_config`, I got the same error for `worker_config` parameter and also `kube_image` was missing.",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/14436",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/14436/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/14436/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/14436/events",
        "html_url": "https://github.com/apache/airflow/pull/14436",
        "id": 815888361,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NTc5NjQzNTA3",
        "number": 14436,
        "title": "BugFix: Serialize max_retry_delay as a timedelta",
        "user": {
            "login": "paulvic",
            "id": 20205680,
            "node_id": "MDQ6VXNlcjIwMjA1Njgw",
            "avatar_url": "https://avatars.githubusercontent.com/u/20205680?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/paulvic",
            "html_url": "https://github.com/paulvic",
            "followers_url": "https://api.github.com/users/paulvic/followers",
            "following_url": "https://api.github.com/users/paulvic/following{/other_user}",
            "gists_url": "https://api.github.com/users/paulvic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/paulvic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/paulvic/subscriptions",
            "organizations_url": "https://api.github.com/users/paulvic/orgs",
            "repos_url": "https://api.github.com/users/paulvic/repos",
            "events_url": "https://api.github.com/users/paulvic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/paulvic/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1769805151,
                "node_id": "MDU6TGFiZWwxNzY5ODA1MTUx",
                "url": "https://api.github.com/repos/apache/airflow/labels/area:serialization",
                "name": "area:serialization",
                "color": "ededed",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/apache/airflow/milestones/28",
            "html_url": "https://github.com/apache/airflow/milestone/28",
            "labels_url": "https://api.github.com/repos/apache/airflow/milestones/28/labels",
            "id": 6371491,
            "node_id": "MDk6TWlsZXN0b25lNjM3MTQ5MQ==",
            "number": 28,
            "title": "Airflow 2.0.2",
            "description": "",
            "creator": {
                "login": "kaxil",
                "id": 8811558,
                "node_id": "MDQ6VXNlcjg4MTE1NTg=",
                "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/kaxil",
                "html_url": "https://github.com/kaxil",
                "followers_url": "https://api.github.com/users/kaxil/followers",
                "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
                "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
                "organizations_url": "https://api.github.com/users/kaxil/orgs",
                "repos_url": "https://api.github.com/users/kaxil/repos",
                "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
                "received_events_url": "https://api.github.com/users/kaxil/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 112,
            "state": "closed",
            "created_at": "2021-01-30T21:25:51Z",
            "updated_at": "2021-05-09T09:28:29Z",
            "due_on": "2021-04-17T07:00:00Z",
            "closed_at": "2021-04-22T14:25:04Z"
        },
        "comments": 3,
        "created_at": "2021-02-24T22:10:45Z",
        "updated_at": "2021-02-26T12:14:57Z",
        "closed_at": "2021-02-26T11:42:01Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/14436",
            "html_url": "https://github.com/apache/airflow/pull/14436",
            "diff_url": "https://github.com/apache/airflow/pull/14436.diff",
            "patch_url": "https://github.com/apache/airflow/pull/14436.patch"
        },
        "body": "closes: #13086, #14212\r\n\r\nWhilst testing upgrading from 1.10.12 to 2.0.1 I've been seeing the following scheduler error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/app/.heroku/python/lib/python3.7/site-packages/airflow/jobs/scheduler_job.py\", line 1280, in _execute\r\n    self._run_scheduler_loop()\r\n  File \"/app/.heroku/python/lib/python3.7/site-packages/airflow/jobs/scheduler_job.py\", line 1382, in _run_scheduler_loop\r\n    num_queued_tis = self._do_scheduling(session)\r\n  File \"/app/.heroku/python/lib/python3.7/site-packages/airflow/jobs/scheduler_job.py\", line 1521, in _do_scheduling\r\n    self._schedule_dag_run(dag_run, active_runs_by_dag_id.get(dag_run.dag_id, set()), session)\r\n  File \"/app/.heroku/python/lib/python3.7/site-packages/airflow/jobs/scheduler_job.py\", line 1760, in _schedule_dag_run\r\n    schedulable_tis, callback_to_run = dag_run.update_state(session=session, execute_callbacks=False)\r\n  File \"/app/.heroku/python/lib/python3.7/site-packages/airflow/utils/session.py\", line 62, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/app/.heroku/python/lib/python3.7/site-packages/airflow/models/dagrun.py\", line 406, in update_state\r\n    info = self.task_instance_scheduling_decisions(session)\r\n  File \"/app/.heroku/python/lib/python3.7/site-packages/airflow/utils/session.py\", line 62, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/app/.heroku/python/lib/python3.7/site-packages/airflow/models/dagrun.py\", line 507, in task_instance_scheduling_decisions\r\n    schedulable_tis, changed_tis = self._get_ready_tis(scheduleable_tasks, finished_tasks, session)\r\n  File \"/app/.heroku/python/lib/python3.7/site-packages/airflow/models/dagrun.py\", line 535, in _get_ready_tis\r\n    session=session,\r\n  File \"/app/.heroku/python/lib/python3.7/site-packages/airflow/utils/session.py\", line 62, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/app/.heroku/python/lib/python3.7/site-packages/airflow/models/taskinstance.py\", line 838, in are_dependencies_met\r\n    for dep_status in self.get_failed_dep_statuses(dep_context=dep_context, session=session):\r\n  File \"/app/.heroku/python/lib/python3.7/site-packages/airflow/models/taskinstance.py\", line 859, in get_failed_dep_statuses\r\n    for dep_status in dep.get_dep_statuses(self, session, dep_context):\r\n  File \"/app/.heroku/python/lib/python3.7/site-packages/airflow/ti_deps/deps/base_ti_dep.py\", line 101, in get_dep_statuses\r\n    yield from self._get_dep_statuses(ti, session, dep_context)\r\n  File \"/app/.heroku/python/lib/python3.7/site-packages/airflow/ti_deps/deps/not_in_retry_period_dep.py\", line 47, in _get_dep_statuses\r\n    next_task_retry_date = ti.next_retry_datetime()\r\n  File \"/app/.heroku/python/lib/python3.7/site-packages/airflow/models/taskinstance.py\", line 905, in next_retry_datetime\r\n    delay = min(self.task.max_retry_delay, delay)\r\nTypeError: '<' not supported between instances of 'datetime.timedelta' and 'float'\r\n```\r\n\r\nIt appears that the `max_retry_delay` value is not being serialised as a timedelta type. This PR seeks to address that.\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/12675",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/12675/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/12675/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/12675/events",
        "html_url": "https://github.com/apache/airflow/pull/12675",
        "id": 752496339,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NTI4ODA2NjQ1",
        "number": 12675,
        "title": "Ensure that tasks set to up_for_retry have an end date",
        "user": {
            "login": "ashb",
            "id": 34150,
            "node_id": "MDQ6VXNlcjM0MTUw",
            "avatar_url": "https://avatars.githubusercontent.com/u/34150?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ashb",
            "html_url": "https://github.com/ashb",
            "followers_url": "https://api.github.com/users/ashb/followers",
            "following_url": "https://api.github.com/users/ashb/following{/other_user}",
            "gists_url": "https://api.github.com/users/ashb/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ashb/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ashb/subscriptions",
            "organizations_url": "https://api.github.com/users/ashb/orgs",
            "repos_url": "https://api.github.com/users/ashb/repos",
            "events_url": "https://api.github.com/users/ashb/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ashb/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 2451280808,
                "node_id": "MDU6TGFiZWwyNDUxMjgwODA4",
                "url": "https://api.github.com/repos/apache/airflow/labels/full%20tests%20needed",
                "name": "full tests needed",
                "color": "e0c514",
                "default": false,
                "description": "We need to run full set of tests for this PR to merge"
            },
            {
                "id": 2350955808,
                "node_id": "MDU6TGFiZWwyMzUwOTU1ODA4",
                "url": "https://api.github.com/repos/apache/airflow/labels/priority:critical",
                "name": "priority:critical",
                "color": "ff0000",
                "default": false,
                "description": "Showstopper bug that should be patched immediately"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/apache/airflow/milestones/3",
            "html_url": "https://github.com/apache/airflow/milestone/3",
            "labels_url": "https://api.github.com/repos/apache/airflow/milestones/3/labels",
            "id": 5268482,
            "node_id": "MDk6TWlsZXN0b25lNTI2ODQ4Mg==",
            "number": 3,
            "title": "Airflow 2.0.0rc1",
            "description": "Status and plans described in https://github.com/apache/airflow/issues/10152 & and https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+2.0+-+Planning",
            "creator": {
                "login": "dimberman",
                "id": 2644098,
                "node_id": "MDQ6VXNlcjI2NDQwOTg=",
                "avatar_url": "https://avatars.githubusercontent.com/u/2644098?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/dimberman",
                "html_url": "https://github.com/dimberman",
                "followers_url": "https://api.github.com/users/dimberman/followers",
                "following_url": "https://api.github.com/users/dimberman/following{/other_user}",
                "gists_url": "https://api.github.com/users/dimberman/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/dimberman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dimberman/subscriptions",
                "organizations_url": "https://api.github.com/users/dimberman/orgs",
                "repos_url": "https://api.github.com/users/dimberman/repos",
                "events_url": "https://api.github.com/users/dimberman/events{/privacy}",
                "received_events_url": "https://api.github.com/users/dimberman/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 125,
            "state": "closed",
            "created_at": "2020-04-02T19:50:21Z",
            "updated_at": "2020-12-09T17:00:54Z",
            "due_on": "2020-12-09T08:00:00Z",
            "closed_at": "2020-12-09T16:59:10Z"
        },
        "comments": 2,
        "created_at": "2020-11-27T22:49:16Z",
        "updated_at": "2020-11-30T18:04:16Z",
        "closed_at": "2020-11-29T10:11:51Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/12675",
            "html_url": "https://github.com/apache/airflow/pull/12675",
            "diff_url": "https://github.com/apache/airflow/pull/12675.diff",
            "patch_url": "https://github.com/apache/airflow/pull/12675.patch"
        },
        "body": "If a task is \"manually\" set to up_for_retry (via the UI for instance) it\r\nmight not have an end date, and much of the logic about computing\r\nretries assumes that it does.\r\n    \r\nWithout this, manually setting a running task to up_for_retry will make\r\nthe make it impossible to view the TaskInstance details page (as it\r\ntries to print the is_premature property), and also the NotInRetryPeriod\r\nTIDep fails - both with an exception:\r\n    \r\n> File \"airflow/models/taskinstance.py\", line 882, in next_retry_datetime\r\n>   return self.end_date + delay\r\n> TypeError: unsupported operand type(s) for +: 'NoneType' and 'datetime.timedelta'\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/12094",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/12094/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/12094/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/12094/events",
        "html_url": "https://github.com/apache/airflow/pull/12094",
        "id": 736339145,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NTE1NTcwNTE4",
        "number": 12094,
        "title": "Correct reading grpc credentials file",
        "user": {
            "login": "mtraynham",
            "id": 5741321,
            "node_id": "MDQ6VXNlcjU3NDEzMjE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5741321?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mtraynham",
            "html_url": "https://github.com/mtraynham",
            "followers_url": "https://api.github.com/users/mtraynham/followers",
            "following_url": "https://api.github.com/users/mtraynham/following{/other_user}",
            "gists_url": "https://api.github.com/users/mtraynham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mtraynham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mtraynham/subscriptions",
            "organizations_url": "https://api.github.com/users/mtraynham/orgs",
            "repos_url": "https://api.github.com/users/mtraynham/repos",
            "events_url": "https://api.github.com/users/mtraynham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mtraynham/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 2458345138,
                "node_id": "MDU6TGFiZWwyNDU4MzQ1MTM4",
                "url": "https://api.github.com/repos/apache/airflow/labels/okay%20to%20merge",
                "name": "okay to merge",
                "color": "64e05c",
                "default": false,
                "description": "It's ok to merge this PR as it does not require more tests"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2020-11-04T18:39:32Z",
        "updated_at": "2020-11-04T21:47:24Z",
        "closed_at": "2020-11-04T21:05:50Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/12094",
            "html_url": "https://github.com/apache/airflow/pull/12094",
            "diff_url": "https://github.com/apache/airflow/pull/12094.diff",
            "patch_url": "https://github.com/apache/airflow/pull/12094.patch"
        },
        "body": "gRPC is expecting the credentials to be bytes rather than a string.\r\nTypeError: expected certificate to be bytes, got <class 'str'>\r\n\r\nThis is the fix suggested in the grpc repo.\r\nhttps://github.com/grpc/grpc/issues/16718#issuecomment-436046373\r\n\r\nWithout this fix, you get the following error:\r\n```\r\n  File \"/home/airflow/.local/lib/python3.6/site-packages/airflow/contrib/hooks/grpc_hook.py\", line 102, in run\r\n    with self.get_conn() as channel:\r\n  File \"/home/airflow/.local/lib/python3.6/site-packages/airflow/contrib/hooks/grpc_hook.py\", line 68, in get_conn\r\n    creds = grpc.ssl_channel_credentials(open(credential_file_name).read())\r\n  File \"/home/airflow/.local/lib/python3.6/site-packages/grpc/__init__.py\", line 1607, in ssl_channel_credentials\r\n    certificate_chain))\r\n  File \"src/python/grpcio/grpc/_cython/_cygrpc/credentials.pyx.pxi\", line 134, in grpc._cython.cygrpc.SSLChannelCredentials.__cinit__\r\nTypeError: expected certificate to be bytes, got <class 'str'>\r\n```\r\n<!--\r\nThank you for contributing! Please make sure that your code changes\r\nare covered with tests. And in case of new features or big changes\r\nremember to adjust the documentation.\r\n\r\nFeel free to ping committers for the review!\r\n\r\nIn case of existing issue, reference it using one of the following:\r\n\r\ncloses: #ISSUE\r\nrelated: #ISSUE\r\n\r\nHow to write a good git commit message:\r\nhttp://chris.beams.io/posts/git-commit/\r\n-->\r\n\r\n---\r\n**^ Add meaningful description above**\r\n\r\nRead the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.\r\nIn case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.\r\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\nIn case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/12658",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/12658/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/12658/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/12658/events",
        "html_url": "https://github.com/apache/airflow/pull/12658",
        "id": 752342160,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NTI4Njg0NjUy",
        "number": 12658,
        "title": "Fix packages summary for docs build",
        "user": {
            "login": "mik-laj",
            "id": 12058428,
            "node_id": "MDQ6VXNlcjEyMDU4NDI4",
            "avatar_url": "https://avatars.githubusercontent.com/u/12058428?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mik-laj",
            "html_url": "https://github.com/mik-laj",
            "followers_url": "https://api.github.com/users/mik-laj/followers",
            "following_url": "https://api.github.com/users/mik-laj/following{/other_user}",
            "gists_url": "https://api.github.com/users/mik-laj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mik-laj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mik-laj/subscriptions",
            "organizations_url": "https://api.github.com/users/mik-laj/orgs",
            "repos_url": "https://api.github.com/users/mik-laj/repos",
            "events_url": "https://api.github.com/users/mik-laj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mik-laj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1993586993,
                "node_id": "MDU6TGFiZWwxOTkzNTg2OTkz",
                "url": "https://api.github.com/repos/apache/airflow/labels/kind:documentation",
                "name": "kind:documentation",
                "color": "0030b5",
                "default": false,
                "description": ""
            },
            {
                "id": 2458345138,
                "node_id": "MDU6TGFiZWwyNDU4MzQ1MTM4",
                "url": "https://api.github.com/repos/apache/airflow/labels/okay%20to%20merge",
                "name": "okay to merge",
                "color": "64e05c",
                "default": false,
                "description": "It's ok to merge this PR as it does not require more tests"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2020-11-27T15:55:23Z",
        "updated_at": "2020-11-27T23:17:15Z",
        "closed_at": "2020-11-27T23:17:14Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/12658",
            "html_url": "https://github.com/apache/airflow/pull/12658",
            "diff_url": "https://github.com/apache/airflow/pull/12658.diff",
            "patch_url": "https://github.com/apache/airflow/pull/12658.patch"
        },
        "body": "```\r\n2020-11-27T13:58:52.7200956Z \u001b[0mTraceback (most recent call last):\r\n2020-11-27T13:58:52.7202180Z   File \"/opt/airflow/docs/build_docs.py\", line 354, in <module>\r\n2020-11-27T13:58:52.7203089Z     main()\r\n2020-11-27T13:58:52.7207183Z   File \"/opt/airflow/docs/build_docs.py\", line 340, in main\r\n2020-11-27T13:58:52.7208716Z     general_errors.extend(lint_checks.check_guide_links_in_operator_descriptions())\r\n2020-11-27T13:58:52.7210626Z   File \"/opt/airflow/docs/exts/docs_build/lint_checks.py\", line 139, in check_guide_links_in_operator_descriptions\r\n2020-11-27T13:58:52.7212632Z     build_errors.append(generate_build_error(py_module_path, class_def.lineno, existing_operator))\r\n2020-11-27T13:58:52.7214764Z   File \"/opt/airflow/docs/exts/docs_build/lint_checks.py\", line 91, in generate_build_error\r\n2020-11-27T13:58:52.7216924Z     f\"Link to the guide is missing in operator's description: {operator_name}.\\n\"\r\n2020-11-27T13:58:52.7218783Z TypeError: __new__() got an unexpected keyword argument 'package_name'\r\n```\r\n<!--\r\nThank you for contributing! Please make sure that your code changes\r\nare covered with tests. And in case of new features or big changes\r\nremember to adjust the documentation.\r\n\r\nFeel free to ping committers for the review!\r\n\r\nIn case of existing issue, reference it using one of the following:\r\n\r\ncloses: #ISSUE\r\nrelated: #ISSUE\r\n\r\nHow to write a good git commit message:\r\nhttp://chris.beams.io/posts/git-commit/\r\n-->\r\n\r\n---\r\n**^ Add meaningful description above**\r\n\r\nRead the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.\r\nIn case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.\r\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\nIn case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/11974",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/11974/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/11974/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/11974/events",
        "html_url": "https://github.com/apache/airflow/pull/11974",
        "id": 733370578,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NTEzMTYxMjc0",
        "number": 11974,
        "title": "Pin `kubernetes` to a max version of 11.0.0.",
        "user": {
            "login": "jedcunningham",
            "id": 66968678,
            "node_id": "MDQ6VXNlcjY2OTY4Njc4",
            "avatar_url": "https://avatars.githubusercontent.com/u/66968678?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jedcunningham",
            "html_url": "https://github.com/jedcunningham",
            "followers_url": "https://api.github.com/users/jedcunningham/followers",
            "following_url": "https://api.github.com/users/jedcunningham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jedcunningham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jedcunningham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jedcunningham/subscriptions",
            "organizations_url": "https://api.github.com/users/jedcunningham/orgs",
            "repos_url": "https://api.github.com/users/jedcunningham/repos",
            "events_url": "https://api.github.com/users/jedcunningham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jedcunningham/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 2451280808,
                "node_id": "MDU6TGFiZWwyNDUxMjgwODA4",
                "url": "https://api.github.com/repos/apache/airflow/labels/full%20tests%20needed",
                "name": "full tests needed",
                "color": "e0c514",
                "default": false,
                "description": "We need to run full set of tests for this PR to merge"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/apache/airflow/milestones/7",
            "html_url": "https://github.com/apache/airflow/milestone/7",
            "labels_url": "https://api.github.com/repos/apache/airflow/milestones/7/labels",
            "id": 5729187,
            "node_id": "MDk6TWlsZXN0b25lNTcyOTE4Nw==",
            "number": 7,
            "title": "Airflow 1.10.13",
            "description": "",
            "creator": {
                "login": "kaxil",
                "id": 8811558,
                "node_id": "MDQ6VXNlcjg4MTE1NTg=",
                "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/kaxil",
                "html_url": "https://github.com/kaxil",
                "followers_url": "https://api.github.com/users/kaxil/followers",
                "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
                "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
                "organizations_url": "https://api.github.com/users/kaxil/orgs",
                "repos_url": "https://api.github.com/users/kaxil/repos",
                "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
                "received_events_url": "https://api.github.com/users/kaxil/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 373,
            "state": "closed",
            "created_at": "2020-08-03T23:08:08Z",
            "updated_at": "2021-04-10T22:10:05Z",
            "due_on": "2020-11-25T08:00:00Z",
            "closed_at": "2020-11-27T16:16:15Z"
        },
        "comments": 4,
        "created_at": "2020-10-30T17:27:03Z",
        "updated_at": "2020-11-14T18:33:03Z",
        "closed_at": "2020-10-30T17:56:59Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/11974",
            "html_url": "https://github.com/apache/airflow/pull/11974",
            "diff_url": "https://github.com/apache/airflow/pull/11974.diff",
            "patch_url": "https://github.com/apache/airflow/pull/11974.patch"
        },
        "body": "12.0.0 introduces `TypeError: cannot serialize '_io.TextIOWrapper'\r\nobject` when serializing V1Pod's in `executor_config`.\r\n\r\n```\r\n[2020-10-28 22:12:16,440] {kubernetes_executor.py:616} INFO - Add task TaskInstanceKey(dag_id='python-memory-eater', task_id='eat', execution_date=datetime.datetime(2020, 10, 28, 22, 10, 14, 732352, tzinfo=Timezone('UTC')), try_number=1) with command ['airflow', 'tasks', 'run', 'python-memory-eater', 'eat', '2020-10-28T22:10:14.732352+00:00', '--local', '--pool', 'default_pool', '--subdir', '/dags/python-memory-eater.py'] with executor_config {'KubernetesExecutor': {'request_memory': '128Mi', 'limit_memory': '128Mi'}}\r\n[2020-10-28 22:12:16,440] {warnings.py:99} WARNING - /some/path/site-packages/airflow/kubernetes/pod_generator.py:200: DeprecationWarning: Using a dictionary for the executor_config is deprecated and will soon be removed.please use a `kubernetes.client.models.V1Pod` class with a \"pod_override\" key instead.\r\n  category=DeprecationWarning)\r\n[2020-10-28 22:12:16,443] {scheduler_job.py:1326} ERROR - Exception when executing SchedulerJob._run_scheduler_loop\r\nTraceback (most recent call last):\r\n  File \"/some/path/site-packages/airflow/jobs/scheduler_job.py\", line 1307, in _execute\r\n    self._run_scheduler_loop()\r\n  File \"/some/path/site-packages/airflow/jobs/scheduler_job.py\", line 1380, in _run_scheduler_loop\r\n    self.executor.heartbeat()\r\n  File \"/some/path/site-packages/airflow/executors/base_executor.py\", line 151, in heartbeat\r\n    self.trigger_tasks(open_slots)\r\n  File \"/some/path/site-packages/airflow/executors/base_executor.py\", line 183, in trigger_tasks\r\n    executor_config=ti.executor_config)\r\n  File \"/some/path/site-packages/airflow/executors/kubernetes_executor.py\", line 622, in execute_async\r\n    self.task_queue.put((key, command, kube_executor_config))\r\n  File \"<string>\", line 2, in put \r\n  File \"/usr/lib64/python3.6/multiprocessing/managers.py\", line 756, in _callmethod\r\n    conn.send((self._id, methodname, args, kwds))\r\n  File \"/usr/lib64/python3.6/multiprocessing/connection.py\", line 206, in send\r\n    self._send_bytes(_ForkingPickler.dumps(obj))\r\n  File \"/usr/lib64/python3.6/multiprocessing/reduction.py\", line 51, in dumps\r\n    cls(buf, protocol).dump(obj)\r\nTypeError: cannot serialize '_io.TextIOWrapper' object\r\n```\r\n\r\nThis applies to both the deprecated `executor_config` dict and `pod_override`.\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/11304",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/11304/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/11304/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/11304/events",
        "html_url": "https://github.com/apache/airflow/pull/11304",
        "id": 715672410,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NDk4NTQwNjMx",
        "number": 11304,
        "title": "Move latest_only_operator.py to latest_only.py (#11178)",
        "user": {
            "login": "kishvanchee",
            "id": 24776049,
            "node_id": "MDQ6VXNlcjI0Nzc2MDQ5",
            "avatar_url": "https://avatars.githubusercontent.com/u/24776049?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kishvanchee",
            "html_url": "https://github.com/kishvanchee",
            "followers_url": "https://api.github.com/users/kishvanchee/followers",
            "following_url": "https://api.github.com/users/kishvanchee/following{/other_user}",
            "gists_url": "https://api.github.com/users/kishvanchee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kishvanchee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kishvanchee/subscriptions",
            "organizations_url": "https://api.github.com/users/kishvanchee/orgs",
            "repos_url": "https://api.github.com/users/kishvanchee/repos",
            "events_url": "https://api.github.com/users/kishvanchee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kishvanchee/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1501852300,
                "node_id": "MDU6TGFiZWwxNTAxODUyMzAw",
                "url": "https://api.github.com/repos/apache/airflow/labels/area:docs",
                "name": "area:docs",
                "color": "e5b06b",
                "default": false,
                "description": "Only touches documentation"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2020-10-06T13:19:34Z",
        "updated_at": "2020-10-07T04:47:08Z",
        "closed_at": "2020-10-06T23:15:29Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/11304",
            "html_url": "https://github.com/apache/airflow/pull/11304",
            "diff_url": "https://github.com/apache/airflow/pull/11304.diff",
            "patch_url": "https://github.com/apache/airflow/pull/11304.patch"
        },
        "body": "<!--\r\nThank you for contributing! Please make sure that your code changes\r\nare covered with tests. And in case of new features or big changes\r\nremember to adjust the documentation.\r\n\r\nFeel free to ping committers for the review!\r\n\r\nIn case of existing issue, reference it using one of the following:\r\n\r\ncloses: #ISSUE\r\nrelated: #ISSUE\r\n\r\nHow to write a good git commit message:\r\nhttp://chris.beams.io/posts/git-commit/\r\n-->\r\n\r\nThis change is related to #11178 for `latest_only_operator`.\r\n\r\nI tried running the unit test in breeze, they passed with some warnings. I'm not sure what to make of it, but if I'm supposed to be doing something please let me know.\r\n\r\n```\r\nroot@b20475852b92:/opt/airflow# pytest tests/operators/test_latest_only_operator.py \r\n========================================================================= test session starts =========================================================================\r\nplatform linux -- Python 3.6.12, pytest-6.0.1, py-1.9.0, pluggy-0.13.1 -- /usr/local/bin/python\r\ncachedir: .pytest_cache\r\nrootdir: /opt/airflow, configfile: pytest.ini\r\nplugins: timeouts-1.2.1, forked-1.3.0, rerunfailures-9.0, requests-mock-1.8.0, flaky-3.7.0, xdist-2.0.0, cov-2.10.1, celery-4.4.7, instafail-0.4.2\r\nsetup timeout: 0.0s, execution timeout: 0.0s, teardown timeout: 0.0s\r\ncollected 3 items                                                                                                                                                     \r\n\r\ntests/operators/test_latest_only_operator.py::TestLatestOnlyOperator::test_not_skipping_external \r\n\r\n\r\n\r\nPASSED                                                         [ 33%]\r\ntests/operators/test_latest_only_operator.py::TestLatestOnlyOperator::test_run PASSED                                                                           [ 66%]\r\ntests/operators/test_latest_only_operator.py::TestLatestOnlyOperator::test_skipping_non_latest PASSED                                                           [100%]\r\n\r\n========================================================================== warnings summary ===========================================================================\r\ntests/operators/test_latest_only_operator.py::TestLatestOnlyOperator::test_not_skipping_external\r\ntests/operators/test_latest_only_operator.py::TestLatestOnlyOperator::test_not_skipping_external\r\n  /usr/local/lib/python3.6/site-packages/alembic/ddl/sqlite.py:41: UserWarning: Skipping unsupported ALTER for creation of implicit constraintPlease refer to the batch mode feature which allows for SQLite migrations using a copy-and-move strategy.\r\n    \"Skipping unsupported ALTER for \"\r\n\r\n-- Docs: https://docs.pytest.org/en/stable/warnings.html\r\n=================================================================== 3 passed, 2 warnings in 30.69s ====================================================================\r\nException ignored in: <function _ConnectionRecord.checkout.<locals>.<lambda> at 0x7f077fd61e18>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/site-packages/sqlalchemy/pool/base.py\", line 506, in <lambda>\r\n  File \"/usr/local/lib/python3.6/site-packages/sqlalchemy/pool/base.py\", line 714, in _finalize_fairy\r\n  File \"/usr/local/lib/python3.6/site-packages/sqlalchemy/pool/base.py\", line 531, in checkin\r\n  File \"/usr/local/lib/python3.6/site-packages/sqlalchemy/pool/base.py\", line 388, in _return_conn\r\n  File \"/usr/local/lib/python3.6/site-packages/sqlalchemy/pool/impl.py\", line 236, in _do_return_conn\r\n  File \"/usr/local/lib/python3.6/site-packages/sqlalchemy/pool/base.py\", line 543, in close\r\n  File \"/usr/local/lib/python3.6/site-packages/sqlalchemy/pool/base.py\", line 645, in __close\r\n  File \"/usr/local/lib/python3.6/site-packages/sqlalchemy/pool/base.py\", line 267, in _close_connection\r\n  File \"/usr/local/lib/python3.6/logging/__init__.py\", line 1295, in debug\r\n  File \"/usr/local/lib/python3.6/logging/__init__.py\", line 1548, in isEnabledFor\r\nTypeError: '>=' not supported between instances of 'int' and 'NoneType'\r\n```\r\n\r\n**^ Add meaningful description above**\r\n\r\nRead the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.\r\nIn case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.\r\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\nIn case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/6904",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/6904/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/6904/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/6904/events",
        "html_url": "https://github.com/apache/airflow/pull/6904",
        "id": 542506494,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzU2OTMwOTYw",
        "number": 6904,
        "title": "[AIRFLOW-6357] Highlight nodes in Graph UI if task id contains dots",
        "user": {
            "login": "Khrol",
            "id": 3982146,
            "node_id": "MDQ6VXNlcjM5ODIxNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3982146?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Khrol",
            "html_url": "https://github.com/Khrol",
            "followers_url": "https://api.github.com/users/Khrol/followers",
            "following_url": "https://api.github.com/users/Khrol/following{/other_user}",
            "gists_url": "https://api.github.com/users/Khrol/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Khrol/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Khrol/subscriptions",
            "organizations_url": "https://api.github.com/users/Khrol/orgs",
            "repos_url": "https://api.github.com/users/Khrol/repos",
            "events_url": "https://api.github.com/users/Khrol/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Khrol/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2019-12-26T10:03:23Z",
        "updated_at": "2020-09-01T06:48:42Z",
        "closed_at": "2019-12-28T12:29:13Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/6904",
            "html_url": "https://github.com/apache/airflow/pull/6904",
            "diff_url": "https://github.com/apache/airflow/pull/6904.diff",
            "patch_url": "https://github.com/apache/airflow/pull/6904.patch"
        },
        "body": "If task id contains dots:\r\ngraph?dag_id=daily_dag:1246 Uncaught TypeError: Cannot read property 'parentNode' of null\r\nat graph?dag_id=daily_dag:1246\r\nat Array.forEach (<anonymous>)\r\nat highlight_nodes (graph?dag_id=daily_dag:1245)\r\nat SVGGElement.<anonymous> (graph?dag_id=daily_dag:1253)\r\nat SVGGElement.__onmouseover (d3.min.js:1)\r\n\r\nhttps://stackoverflow.com/a/25942226/1849364 - some more context about the fix.\r\n\r\nMake sure you have checked _all_ steps below.\r\n\r\n### Jira\r\n\r\n- [x] My PR addresses the following [Airflow Jira](https://issues.apache.org/jira/browse/AIRFLOW/) issues and references them in the PR title. For example, \"\\[AIRFLOW-XXX\\] My Airflow PR\"\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-6357\r\n  - In case you are fixing a typo in the documentation you can prepend your commit with \\[AIRFLOW-XXX\\], code changes always need a Jira issue.\r\n  - In case you are proposing a fundamental code change, you need to create an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)).\r\n  - In case you are adding a dependency, check if the license complies with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\n\r\n### Description\r\n\r\nThe following DAG helps to reproduce the problem:\r\n```python\r\nwith DAG(dag_id='hightlight_test', start_date=airflow.utils.dates.days_ago(2)) as dag:\r\n    t1 = DummyOperator(task_id='t1')\r\n    t2 = DummyOperator(task_id='t2.t2')\r\n    t3 = DummyOperator(task_id='t3.t3')\r\n    t1 >> t2\r\n    t2 >> t3\r\n```\r\n\r\n- [x] Here are some details about my PR, including screenshots of any UI changes:\r\nAfter the fix:\r\n![Screen Shot 2019-12-26 at 13 01 43](https://user-images.githubusercontent.com/3982146/71471239-f0d67c00-27df-11ea-92fd-d1edf75ed906.png)\r\n\r\n\r\n### Tests\r\n\r\n- [ ] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:\r\nI don't know if we are able to cover it by UI tests.\r\n\r\n### Commits\r\n\r\n- [x] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [ ] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - All the public functions and the classes in the PR contain docstrings that explain what it does\r\n  - If you implement backwards incompatible changes, please leave a note in the [Updating.md](https://github.com/apache/airflow/blob/master/UPDATING.md) so we can assign it to a appropriate release\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/8552",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/8552/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/8552/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/8552/events",
        "html_url": "https://github.com/apache/airflow/pull/8552",
        "id": 606657795,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NDA4ODI0NzI4",
        "number": 8552,
        "title": "fix help message display for dags test subcommand",
        "user": {
            "login": "houqp",
            "id": 670302,
            "node_id": "MDQ6VXNlcjY3MDMwMg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/670302?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/houqp",
            "html_url": "https://github.com/houqp",
            "followers_url": "https://api.github.com/users/houqp/followers",
            "following_url": "https://api.github.com/users/houqp/following{/other_user}",
            "gists_url": "https://api.github.com/users/houqp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/houqp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/houqp/subscriptions",
            "organizations_url": "https://api.github.com/users/houqp/orgs",
            "repos_url": "https://api.github.com/users/houqp/repos",
            "events_url": "https://api.github.com/users/houqp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/houqp/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1672279581,
                "node_id": "MDU6TGFiZWwxNjcyMjc5NTgx",
                "url": "https://api.github.com/repos/apache/airflow/labels/area:CLI",
                "name": "area:CLI",
                "color": "e99695",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2020-04-25T01:10:54Z",
        "updated_at": "2020-04-25T22:33:36Z",
        "closed_at": "2020-04-25T11:46:05Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/8552",
            "html_url": "https://github.com/apache/airflow/pull/8552",
            "diff_url": "https://github.com/apache/airflow/pull/8552.diff",
            "patch_url": "https://github.com/apache/airflow/pull/8552.patch"
        },
        "body": "Without this fix, `airflow dags test` crashes with the following error:\r\n\r\n```\r\n    item_help = join([func(*args) for func, args in self.items])\r\n  File \"/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/argparse.py\", line 531, in _format_action\r\n    help_text = self._expand_help(action)\r\n  File \"/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/argparse.py\", line 620, in _expand_help\r\n    return self._get_help_string(action) % params\r\nTypeError: unsupported operand type(s) for %: 'tuple' and 'dict'\r\n```\r\n\r\n---\r\nMake sure to mark the boxes below before creating PR: [x]\r\n\r\n- [x] Description above provides context of the change\r\n- [x] Unit tests coverage for changes (not needed for documentation changes)\r\n- [x] Target Github ISSUE in description if exists\r\n- [x] Commits follow \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\"\r\n- [x] Relevant documentation is updated including usage instructions.\r\n- [x] I will engage committers as explained in [Contribution Workflow Example](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#contribution-workflow-example).\r\n\r\n---\r\nIn case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.\r\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\nIn case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).\r\nRead the [Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines) for more information.\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/8151",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/8151/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/8151/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/8151/events",
        "html_url": "https://github.com/apache/airflow/pull/8151",
        "id": 594209423,
        "node_id": "MDExOlB1bGxSZXF1ZXN0Mzk4ODYwMjE4",
        "number": 8151,
        "title": "BugFix: Fix writing & deleting Dag Code for Serialized DAGs",
        "user": {
            "login": "kaxil",
            "id": 8811558,
            "node_id": "MDQ6VXNlcjg4MTE1NTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kaxil",
            "html_url": "https://github.com/kaxil",
            "followers_url": "https://api.github.com/users/kaxil/followers",
            "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
            "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
            "organizations_url": "https://api.github.com/users/kaxil/orgs",
            "repos_url": "https://api.github.com/users/kaxil/repos",
            "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kaxil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/apache/airflow/milestones/2",
            "html_url": "https://github.com/apache/airflow/milestone/2",
            "labels_url": "https://api.github.com/repos/apache/airflow/milestones/2/labels",
            "id": 5241877,
            "node_id": "MDk6TWlsZXN0b25lNTI0MTg3Nw==",
            "number": 2,
            "title": "Airflow 1.10.10",
            "description": "",
            "creator": {
                "login": "ashb",
                "id": 34150,
                "node_id": "MDQ6VXNlcjM0MTUw",
                "avatar_url": "https://avatars.githubusercontent.com/u/34150?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ashb",
                "html_url": "https://github.com/ashb",
                "followers_url": "https://api.github.com/users/ashb/followers",
                "following_url": "https://api.github.com/users/ashb/following{/other_user}",
                "gists_url": "https://api.github.com/users/ashb/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ashb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ashb/subscriptions",
                "organizations_url": "https://api.github.com/users/ashb/orgs",
                "repos_url": "https://api.github.com/users/ashb/repos",
                "events_url": "https://api.github.com/users/ashb/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ashb/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 31,
            "state": "closed",
            "created_at": "2020-03-26T22:30:39Z",
            "updated_at": "2020-04-12T14:22:41Z",
            "due_on": "2020-04-07T07:00:00Z",
            "closed_at": "2020-04-12T14:22:41Z"
        },
        "comments": 7,
        "created_at": "2020-04-05T01:58:54Z",
        "updated_at": "2020-04-05T16:04:12Z",
        "closed_at": "2020-04-05T12:59:44Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/8151",
            "html_url": "https://github.com/apache/airflow/pull/8151",
            "diff_url": "https://github.com/apache/airflow/pull/8151.diff",
            "patch_url": "https://github.com/apache/airflow/pull/8151.patch"
        },
        "body": "With `store_dag_code` enabled scheduler throws the following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/multiprocessing/process.py\", line\r\n297, in _bootstrap\r\n    self.run()\r\n  File \"/usr/local/lib/python3.7/multiprocessing/process.py\", line 99, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/airflow/jobs/scheduler_job.py\",\r\nline 158, in _run_file_processor\r\n    pickle_dags)\r\n  File \"/usr/local/lib/python3.7/site-packages/airflow/utils/db.py\",\r\nline 74, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/airflow/jobs/scheduler_job.py\",\r\nline 1582, in process_file\r\n    dag.sync_to_db()\r\n  File \"/usr/local/lib/python3.7/site-packages/airflow/utils/db.py\",\r\nline 74, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/airflow/models/dag.py\",\r\nline 1519, in sync_to_db\r\n    DagCode.bulk_sync_to_db([dag.fileloc for dag in orm_dag])\r\nTypeError: 'DagModel' object is not iterable\r\n```\r\n\r\nThis is a blocker for 1.10.10 and the bug was found in 1.10.10rc2 by Kostya Esmukov \r\n\r\n---\r\nMake sure to mark the boxes below before creating PR: [x]\r\n\r\n- [x] Description above provides context of the change\r\n- [x] Unit tests coverage for changes (not needed for documentation changes)\r\n- [x] Commits follow \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\"\r\n- [x] Relevant documentation is updated including usage instructions.\r\n- [x] I will engage committers as explained in [Contribution Workflow Example](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#contribution-workflow-example).\r\n\r\n---\r\nIn case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.\r\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\nIn case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).\r\nRead the [Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines) for more information.\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/6185",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/6185/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/6185/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/6185/events",
        "html_url": "https://github.com/apache/airflow/pull/6185",
        "id": 498541003,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzIxNDUzMzI5",
        "number": 6185,
        "title": "[AIRFLOW-5554] Require statsd 3.3.0 for timedelta stat transformation",
        "user": {
            "login": "suburbanmtman",
            "id": 2625471,
            "node_id": "MDQ6VXNlcjI2MjU0NzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2625471?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/suburbanmtman",
            "html_url": "https://github.com/suburbanmtman",
            "followers_url": "https://api.github.com/users/suburbanmtman/followers",
            "following_url": "https://api.github.com/users/suburbanmtman/following{/other_user}",
            "gists_url": "https://api.github.com/users/suburbanmtman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/suburbanmtman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/suburbanmtman/subscriptions",
            "organizations_url": "https://api.github.com/users/suburbanmtman/orgs",
            "repos_url": "https://api.github.com/users/suburbanmtman/repos",
            "events_url": "https://api.github.com/users/suburbanmtman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/suburbanmtman/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2019-09-25T21:48:51Z",
        "updated_at": "2019-10-07T22:51:37Z",
        "closed_at": "2019-09-26T09:45:28Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/6185",
            "html_url": "https://github.com/apache/airflow/pull/6185",
            "diff_url": "https://github.com/apache/airflow/pull/6185.diff",
            "patch_url": "https://github.com/apache/airflow/pull/6185.patch"
        },
        "body": "Make sure you have checked _all_ steps below.\r\n\r\n### Jira\r\n\r\n- [x] My PR addresses the following [Airflow Jira]\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-5554\r\n\r\n### Description\r\n\r\n- [x] Here are some details about my PR, including screenshots of any UI changes:\r\nWhen statsd is enabled in airflow, there are some calls to the statsd client library that pass timedeltas as the duration for measuring the timing, including dag success and failure durations.\r\n\r\nHowever, handling timedeltas and converting them to millisecond floats is not introduced until statsd 3.3.0. This should be the minimum version required in airflow to avoid a TypeError in these stats.\r\n\r\n### Tests\r\n\r\n- [x] My PR does not need testing for this extremely good reason:\r\nNo code changes introduced, the only behavioral change is inside the statsd library implementation due to the version change.\r\n\r\n### Commits\r\n\r\n- [x] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [x] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - All the public functions and the classes in the PR contain docstrings that explain what it does\r\n  - If you implement backwards incompatible changes, please leave a note in the [Updating.md](https://github.com/apache/airflow/blob/master/UPDATING.md) so we can assign it to a appropriate release\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/7092",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/7092/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/7092/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/7092/events",
        "html_url": "https://github.com/apache/airflow/pull/7092",
        "id": 546081799,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzU5ODI1NTk2",
        "number": 7092,
        "title": "[AIRFLOW-6347] BugFix: Can't get task logs when serialization is enabled",
        "user": {
            "login": "kaxil",
            "id": 8811558,
            "node_id": "MDQ6VXNlcjg4MTE1NTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kaxil",
            "html_url": "https://github.com/kaxil",
            "followers_url": "https://api.github.com/users/kaxil/followers",
            "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
            "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
            "organizations_url": "https://api.github.com/users/kaxil/orgs",
            "repos_url": "https://api.github.com/users/kaxil/repos",
            "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kaxil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1769805151,
                "node_id": "MDU6TGFiZWwxNzY5ODA1MTUx",
                "url": "https://api.github.com/repos/apache/airflow/labels/area:serialization",
                "name": "area:serialization",
                "color": "ededed",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2020-01-07T05:06:40Z",
        "updated_at": "2020-01-07T18:29:10Z",
        "closed_at": "2020-01-07T18:29:06Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/7092",
            "html_url": "https://github.com/apache/airflow/pull/7092",
            "diff_url": "https://github.com/apache/airflow/pull/7092.diff",
            "patch_url": "https://github.com/apache/airflow/pull/7092.patch"
        },
        "body": "Quoting from Jira:\r\n\r\n**Problem**:\r\nWhen I set next config options in `airflow.cfg`:\r\n\r\n```ini\r\n[core]\r\nstore_serialized_dags = True\r\nmin_serialized_dag_update_interval = 3\r\n ```\r\n\r\nView with task logs shows infinity Js spinner, while in webserver log I see next error:\r\n```\r\n[2019-12-25 14:48:57,640] {{app.py:1891}} ERROR - Exception on /get_logs_with_metadata [GET]\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/site-packages/flask/app.py\", line 2446, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/usr/local/lib/python3.7/site-packages/flask/app.py\", line 1951, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/usr/local/lib/python3.7/site-packages/flask/app.py\", line 1820, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/usr/local/lib/python3.7/site-packages/flask/_compat.py\", line 39, in reraise\r\n    raise value\r\n  File \"/usr/local/lib/python3.7/site-packages/flask/app.py\", line 1949, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/usr/local/lib/python3.7/site-packages/flask/app.py\", line 1935, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/usr/local/airflow/.local/lib/python3.7/site-packages/airflow/www_rbac/decorators.py\", line 121, in wrapper\r\n    return f(self, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/flask_appbuilder/security/decorators.py\", line 101, in wraps\r\n    return f(self, *args, **kwargs)\r\n  File \"/usr/local/airflow/.local/lib/python3.7/site-packages/airflow/www_rbac/decorators.py\", line 56, in wrapper\r\n    return f(*args, **kwargs)\r\n  File \"/usr/local/airflow/.local/lib/python3.7/site-packages/airflow/utils/db.py\", line 74, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/airflow/.local/lib/python3.7/site-packages/airflow/www_rbac/views.py\", line 637, in get_logs_with_metadata\r\n    logs, metadata = _get_logs_with_metadata(try_number, metadata)\r\n  File \"/usr/local/airflow/.local/lib/python3.7/site-packages/airflow/www_rbac/views.py\", line 628, in _get_logs_with_metadata\r\n    logs, metadatas = handler.read(ti, try_number, metadata=metadata)\r\n  File \"/usr/local/airflow/.local/lib/python3.7/site-packages/airflow/utils/log/file_task_handler.py\", line 169, in read\r\n    log, metadata = self._read(task_instance, try_number_element, metadata)\r\n  File \"/usr/local/airflow/.local/lib/python3.7/site-packages/airflow/utils/log/file_task_handler.py\", line 98, in _read\r\n    log_relative_path = self._render_filename(ti, try_number)\r\n  File \"/usr/local/airflow/.local/lib/python3.7/site-packages/airflow/utils/log/file_task_handler.py\", line 75, in _render_filename\r\n    jinja_context = ti.get_template_context()\r\n  File \"/usr/local/airflow/.local/lib/python3.7/site-packages/airflow/utils/db.py\", line 74, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/airflow/.local/lib/python3.7/site-packages/airflow/models/taskinstance.py\", line 1149, in get_template_context\r\n    if 'tables' in task.params:\r\nTypeError: argument of type 'NoneType' is not iterable\r\n```\r\n\r\n**Solution:**\r\nThis is because we use `self.params = params or {}` and where default value of `params` is `None` in DAG and Operators and Dag S10n ignore all the None field. \r\n\r\nWhile de-serializing `params` was being set to None because of the following line:\r\n\r\n```python\r\nkeys_to_set_none = dag.get_serialized_fields() - encoded_dag.keys() - cls._CONSTRUCTOR_PARAMS.keys()\r\n        for k in keys_to_set_none:\r\n            setattr(dag, k, None)\r\n```\r\n\r\n\r\n---\r\nIssue link: [AIRFLOW-6347](https://issues.apache.org/jira/browse/AIRFLOW-6347/)\r\n\r\n- [x] Description above provides context of the change\r\n- [x] Commit message/PR title starts with `[AIRFLOW-NNNN]`. AIRFLOW-NNNN = JIRA ID<sup>*</sup>\r\n- [x] Unit tests coverage for changes (not needed for documentation changes)\r\n- [x] Commits follow \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\"\r\n- [x] Relevant documentation is updated including usage instructions.\r\n- [x] I will engage committers as explained in [Contribution Workflow Example](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#contribution-workflow-example).\r\n\r\n<sup>*</sup> For document-only changes commit message can start with `[AIRFLOW-XXXX]`.\r\n\r\n---\r\nIn case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.\r\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\nIn case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).\r\nRead the [Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines) for more information.\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/4596",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/4596/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/4596/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/4596/events",
        "html_url": "https://github.com/apache/airflow/pull/4596",
        "id": 403470748,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MjQ3OTA2ODE0",
        "number": 4596,
        "title": "[AIRFLOW-2190] Fix TypeError when returning 404",
        "user": {
            "login": "astahlman",
            "id": 1173394,
            "node_id": "MDQ6VXNlcjExNzMzOTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1173394?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/astahlman",
            "html_url": "https://github.com/astahlman",
            "followers_url": "https://api.github.com/users/astahlman/followers",
            "following_url": "https://api.github.com/users/astahlman/following{/other_user}",
            "gists_url": "https://api.github.com/users/astahlman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/astahlman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/astahlman/subscriptions",
            "organizations_url": "https://api.github.com/users/astahlman/orgs",
            "repos_url": "https://api.github.com/users/astahlman/repos",
            "events_url": "https://api.github.com/users/astahlman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/astahlman/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2019-01-26T18:53:04Z",
        "updated_at": "2019-03-13T11:57:51Z",
        "closed_at": "2019-01-27T00:13:44Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/4596",
            "html_url": "https://github.com/apache/airflow/pull/4596",
            "diff_url": "https://github.com/apache/airflow/pull/4596.diff",
            "patch_url": "https://github.com/apache/airflow/pull/4596.patch"
        },
        "body": "Make sure you have checked _all_ steps below.\r\n\r\n### Jira\r\n\r\n- [ X ] My PR addresses the following [Airflow Jira](https://issues.apache.org/jira/browse/AIRFLOW/) issues and references them in the PR title. For example, \"\\[AIRFLOW-XXX\\] My Airflow PR\"\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-2190\r\n\r\n### Description\r\n\r\n- [ X ] Here are some details about my PR, including screenshots of any UI changes:\r\n\r\nWhen processing HTTP response headers, gunicorn checks that the name of each\r\nheader is a string. Here's the relevant gunicorn code:\r\n\r\nFrom gunicorn/http/wsgi.py, line 257\r\n\r\n    def process_headers(self, headers):\r\n        for name, value in headers:\r\n            if not isinstance(name, string_types):\r\n                raise TypeError('%r is not a string' % name)\r\n\r\nIn Python3, `string_types` is set to the built-in `str`. For Python 2,\r\nit's set to `basestring`. Again, the relevant gunicorn code:\r\n\r\nFrom gunicorn/six.py, line 38:\r\n\r\n    if PY3:\r\n        string_types = str,\r\n        ...\r\n    else:\r\n        string_types = basestring,\r\n\r\nOn Python2 the `b''` syntax returns a `str`, but in Python3 it returns `bytes`.\r\n`bytes` != `str`, so we get the following error when returning a 404 on\r\nPython3:\r\n\r\n    File \"/usr/local/lib/python3.6/site-packages/airflow/www/app.py\", line 166, in root_app\r\n    resp(b'404 Not Found', [(b'Content-Type', b'text/plain')])\r\n    File \"/usr/local/lib/python3.6/site-packages/gunicorn/http/wsgi.py\", line 261, in start_response\r\n    self.process_headers(headers)\r\n    File \"/usr/local/lib/python3.6/site-packages/gunicorn/http/wsgi.py\", line 268, in process_headers\r\n    raise TypeError('%r is not a string' % name)\r\n    TypeError: b'Content-Type' is not a string\r\n\r\nDropping the `b` prefix in favor of the single-quote string syntax should work\r\nfor both Python2 and 3, as demonstrated below:\r\n\r\n    Python 3.7.2 (default, Jan 13 2019, 12:50:15)\r\n    [Clang 10.0.0 (clang-1000.11.45.5)] on darwin\r\n    Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n    >>> isinstance('foo', str)\r\n    True\r\n\r\n    Python 2.7.15 (default, Jan 12 2019, 21:43:48)\r\n    [GCC 4.2.1 Compatible Apple LLVM 10.0.0 (clang-1000.11.45.5)] on darwin\r\n    Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n    >>> isinstance('foo', basestring)\r\n    True\r\n\r\n### Tests\r\n\r\n- [ ] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:\r\n\r\nNot sure if there's a clean way to unit test this middleware - open to suggestions. FWIW, I ran the webserver and confirmed that this fixes the issue in AIRFLOW-2190.\r\n\r\n### Commits\r\n\r\n- [ X ] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [ ] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - When adding new operators/hooks/sensors, the autoclass documentation generation needs to be added.\r\n  - All the public functions and the classes in the PR contain docstrings that explain what it does\r\n\r\n### Code Quality\r\n\r\n- [ X ] Passes `flake8`\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/6036",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/6036/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/6036/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/6036/events",
        "html_url": "https://github.com/apache/airflow/pull/6036",
        "id": 490431441,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzE1MDM5MzM4",
        "number": 6036,
        "title": "[AIRFLOW-5428] Dataflow with one job is not done correctly",
        "user": {
            "login": "mik-laj",
            "id": 12058428,
            "node_id": "MDQ6VXNlcjEyMDU4NDI4",
            "avatar_url": "https://avatars.githubusercontent.com/u/12058428?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mik-laj",
            "html_url": "https://github.com/mik-laj",
            "followers_url": "https://api.github.com/users/mik-laj/followers",
            "following_url": "https://api.github.com/users/mik-laj/following{/other_user}",
            "gists_url": "https://api.github.com/users/mik-laj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mik-laj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mik-laj/subscriptions",
            "organizations_url": "https://api.github.com/users/mik-laj/orgs",
            "repos_url": "https://api.github.com/users/mik-laj/repos",
            "events_url": "https://api.github.com/users/mik-laj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mik-laj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1463392518,
                "node_id": "MDU6TGFiZWwxNDYzMzkyNTE4",
                "url": "https://api.github.com/repos/apache/airflow/labels/provider:Google",
                "name": "provider:Google",
                "color": "34a350",
                "default": false,
                "description": "Google (including GCP) related issues"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": {
            "login": "mik-laj",
            "id": 12058428,
            "node_id": "MDQ6VXNlcjEyMDU4NDI4",
            "avatar_url": "https://avatars.githubusercontent.com/u/12058428?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mik-laj",
            "html_url": "https://github.com/mik-laj",
            "followers_url": "https://api.github.com/users/mik-laj/followers",
            "following_url": "https://api.github.com/users/mik-laj/following{/other_user}",
            "gists_url": "https://api.github.com/users/mik-laj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mik-laj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mik-laj/subscriptions",
            "organizations_url": "https://api.github.com/users/mik-laj/orgs",
            "repos_url": "https://api.github.com/users/mik-laj/repos",
            "events_url": "https://api.github.com/users/mik-laj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mik-laj/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "mik-laj",
                "id": 12058428,
                "node_id": "MDQ6VXNlcjEyMDU4NDI4",
                "avatar_url": "https://avatars.githubusercontent.com/u/12058428?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mik-laj",
                "html_url": "https://github.com/mik-laj",
                "followers_url": "https://api.github.com/users/mik-laj/followers",
                "following_url": "https://api.github.com/users/mik-laj/following{/other_user}",
                "gists_url": "https://api.github.com/users/mik-laj/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mik-laj/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mik-laj/subscriptions",
                "organizations_url": "https://api.github.com/users/mik-laj/orgs",
                "repos_url": "https://api.github.com/users/mik-laj/repos",
                "events_url": "https://api.github.com/users/mik-laj/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mik-laj/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 4,
        "created_at": "2019-09-06T17:09:05Z",
        "updated_at": "2019-09-15T18:23:51Z",
        "closed_at": "2019-09-15T18:23:51Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/6036",
            "html_url": "https://github.com/apache/airflow/pull/6036",
            "diff_url": "https://github.com/apache/airflow/pull/6036.diff",
            "patch_url": "https://github.com/apache/airflow/pull/6036.patch"
        },
        "body": "Details information is available here: https://github.com/apache/airflow/pull/4633#discussion_r321568473\r\n```\r\n[2019-09-06 03:20:51,974] {taskinstance.py:1042} ERROR - string indices must be integers\r\nTraceback (most recent call last):\r\n  File \"/opt/airflow/airflow/models/taskinstance.py\", line 917, in _run_raw_task\r\n    result = task_copy.execute(context=context)\r\n  File \"/opt/airflow/airflow/gcp/operators/dataflow.py\", line 216, in execute\r\n    self.jar, self.job_class, True, self.multiple_jobs)\r\n  File \"/opt/airflow/airflow/gcp/hooks/dataflow.py\", line 372, in start_java_dataflow\r\n    self._start_dataflow(variables, name, command_prefix, label_formatter, multiple_jobs)\r\n  File \"/opt/airflow/airflow/contrib/hooks/gcp_api_base_hook.py\", line 307, in wrapper\r\n    return func(self, *args, **kwargs)\r\n  File \"/opt/airflow/airflow/gcp/hooks/dataflow.py\", line 327, in _start_dataflow\r\n    variables['region'], self.poll_sleep, job_id, self.num_retries, multiple_jobs) \\\r\n  File \"/opt/airflow/airflow/gcp/hooks/dataflow.py\", line 76, in __init__\r\n    self._jobs = self._get_jobs()\r\n  File \"/opt/airflow/airflow/gcp/hooks/dataflow.py\", line 138, in _get_jobs\r\n    self._job_id, job['name']\r\nTypeError: string indices must be integers\r\n```\r\nCC: @Fokko  You did a review of the changes that introduced these regressions. Could you check if I missed something?\r\n\r\nI would like to test it  using system tests. Unfortunately, they are not finished yet, but I work hard on it - https://github.com/apache/airflow/pull/6035. When I confirm that the code works in all case, this change can be merge.\r\n\r\n---\r\n\r\nMake sure you have checked _all_ steps below.\r\n\r\n### Jira\r\n\r\n- [ ] My PR addresses the following [Airflow Jira](https://issues.apache.org/jira/browse/AIRFLOW/) issues and references them in the PR title. For example, \"\\[AIRFLOW-XXX\\] My Airflow PR\"\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-5428\r\n  - In case you are fixing a typo in the documentation you can prepend your commit with \\[AIRFLOW-XXX\\], code changes always need a Jira issue.\r\n  - In case you are proposing a fundamental code change, you need to create an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)).\r\n  - In case you are adding a dependency, check if the license complies with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\n\r\n### Description\r\n\r\n- [ ] Here are some details about my PR, including screenshots of any UI changes:\r\n\r\n### Tests\r\n\r\n- [ ] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:\r\n\r\n### Commits\r\n\r\n- [ ] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [ ] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - All the public functions and the classes in the PR contain docstrings that explain what it does\r\n  - If you implement backwards incompatible changes, please leave a note in the [Updating.md](https://github.com/apache/airflow/blob/master/UPDATING.md) so we can assign it to a appropriate release\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/5686",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/5686/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/5686/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/5686/events",
        "html_url": "https://github.com/apache/airflow/pull/5686",
        "id": 474715244,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzAyNjA1MTcz",
        "number": 5686,
        "title": "[AIRFLOW-5075] Let HttpHook handle connections with empty host fields",
        "user": {
            "login": "pgagnon",
            "id": 12717218,
            "node_id": "MDQ6VXNlcjEyNzE3MjE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/12717218?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pgagnon",
            "html_url": "https://github.com/pgagnon",
            "followers_url": "https://api.github.com/users/pgagnon/followers",
            "following_url": "https://api.github.com/users/pgagnon/following{/other_user}",
            "gists_url": "https://api.github.com/users/pgagnon/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pgagnon/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pgagnon/subscriptions",
            "organizations_url": "https://api.github.com/users/pgagnon/orgs",
            "repos_url": "https://api.github.com/users/pgagnon/repos",
            "events_url": "https://api.github.com/users/pgagnon/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pgagnon/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2019-07-30T17:42:55Z",
        "updated_at": "2019-07-31T13:42:12Z",
        "closed_at": "2019-07-31T08:17:52Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/5686",
            "html_url": "https://github.com/apache/airflow/pull/5686",
            "diff_url": "https://github.com/apache/airflow/pull/5686.diff",
            "patch_url": "https://github.com/apache/airflow/pull/5686.patch"
        },
        "body": "Make sure you have checked _all_ steps below.\r\n\r\n### Jira\r\n\r\n- [X] My PR addresses the following [Airflow Jira](https://issues.apache.org/jira/browse/AIRFLOW/) issues and references them in the PR title. For example, \"\\[AIRFLOW-XXX\\] My Airflow PR\"\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-XXX\r\n  - In case you are fixing a typo in the documentation you can prepend your commit with \\[AIRFLOW-XXX\\], code changes always need a Jira issue.\r\n  - In case you are proposing a fundamental code change, you need to create an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)).\r\n  - In case you are adding a dependency, check if the license complies with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\n\r\n### Description\r\n\r\n- [X] Here are some details about my PR, including screenshots of any UI changes:\r\n\r\nLet HttpHook handle connections with empty host fields, which would throw an exception previously:\r\n\r\n```\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/airflow/hooks/http_hook.py\", line 63, in get_conn\r\n    if \"://\" in conn.host:\r\nTypeError: argument of type 'NoneType' is not iterable\r\n```\r\n\r\n### Tests\r\n\r\n- [X] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:\r\n\r\n- `test_connection_without_host`\r\n\r\n### Commits\r\n\r\n- [X] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [X] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - All the public functions and the classes in the PR contain docstrings that explain what it does\r\n  - If you implement backwards incompatible changes, please leave a note in the [Updating.md](https://github.com/apache/airflow/blob/master/UPDATING.md) so we can assign it to a appropriate release\r\n\r\nNo docs; trivial change\r\n\r\n### Code Quality\r\nLet HttpHook handle connections with empty host fields\r\n- [X] Passes `flake8`\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/5955",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/5955/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/5955/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/5955/events",
        "html_url": "https://github.com/apache/airflow/pull/5955",
        "id": 487165852,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzEyNDg1ODQw",
        "number": 5955,
        "title": "[AIRFLOW-5350] Fix bug in the num_retires field in BigQueryHook",
        "user": {
            "login": "kaxil",
            "id": 8811558,
            "node_id": "MDQ6VXNlcjg4MTE1NTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kaxil",
            "html_url": "https://github.com/kaxil",
            "followers_url": "https://api.github.com/users/kaxil/followers",
            "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
            "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
            "organizations_url": "https://api.github.com/users/kaxil/orgs",
            "repos_url": "https://api.github.com/users/kaxil/repos",
            "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kaxil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1463392518,
                "node_id": "MDU6TGFiZWwxNDYzMzkyNTE4",
                "url": "https://api.github.com/repos/apache/airflow/labels/provider:Google",
                "name": "provider:Google",
                "color": "34a350",
                "default": false,
                "description": "Google (including GCP) related issues"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2019-08-29T20:40:30Z",
        "updated_at": "2019-08-29T22:05:15Z",
        "closed_at": "2019-08-29T22:05:11Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/5955",
            "html_url": "https://github.com/apache/airflow/pull/5955",
            "diff_url": "https://github.com/apache/airflow/pull/5955.diff",
            "patch_url": "https://github.com/apache/airflow/pull/5955.patch"
        },
        "body": "Make sure you have checked _all_ steps below.\r\n\r\n### Jira\r\n\r\n- [x] My PR addresses the following [Airflow Jira](https://issues.apache.org/jira/browse/AIRFLOW/) issues and references them in the PR title. For example, \"\\[AIRFLOW-XXX\\] My Airflow PR\"\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-5350\r\n\r\n### Description\r\n\r\n- [x] Here are some details about my PR, including screenshots of any UI changes:\r\nThe `num_retries` extra is no set in old connections that were created before 1.10.4, for those fields it's value is None which causes the below error:\r\n\r\nFrom the StackOverflow Post:\r\n\r\n```\r\n [2019-08-27 02:49:58,076] {cli.py:516} INFO - Running <TaskInstance: cadastro_remessas_paises2.gcs_to_bq 2019-08-27T02:42:43.970619+00:00 [running]> on host cadastroremessaspaises2gcstobq-78f1ea099c3b4e718ba707cb03ffda1e \r\n    [2019-08-27 02:49:58,136] {logging_mixin.py:95} INFO - [[34m2019-08-27 02:49:58,136[0m] {[34mdiscovery.py:[0m271} INFO[0m - URL being requested: GET [1mhttps://www.googleapis.com/discovery/v1/apis/bigquery/v2/rest[0m[0m \r\n    [2019-08-27 02:49:59,259] {logging_mixin.py:95} INFO - [[34m2019-08-27 02:49:59,259[0m] {[34mmy_functions_google.py:[0m2224} INFO[0m - Project not included in [1mdestination_project_dataset_table[0m: [1mcadastro_remessas.paises2[0m; using project \"[1mbigdata-staging[0m\"[0m \r\n    [2019-08-27 02:49:59,266] {logging_mixin.py:95} INFO - [[34m2019-08-27 02:49:59,266[0m] {[34mdiscovery.py:[0m867} INFO[0m - URL being requested: POST https://www.googleapis.com/bigquery/v2/projects/bigdata-staging/jobs?alt=json[0m \r\n    [2019-08-27 02:49:59,266] {taskinstance.py:1047} ERROR - unsupported operand type(s) for +: 'NoneType' and 'int' Traceback (most recent call last):   File \"/usr/local/lib/python3.7/site-packages/airflow/models/taskinstance.py\", line 922, in _run_raw_task\r\n        result = task_copy.execute(context=context)   \r\n        File \"/airflow/dags/git/subfolder/my_functions_google.py\", line 2502, in execute\r\n        cluster_fields=self.cluster_fields)   \r\n        File \"/airflow/dags/git/subfolder/my_functions_google.py\", line 1396, in run_load\r\n        return self.run_with_configuration(configuration)   \r\n        File \"/airflow/dags/git/subfolder/my_functions_google.py\", line 1414, in run_with_configuration\r\n        .execute(num_retries=self.num_retries)   \r\n        File \"/usr/local/lib/python3.7/site-packages/googleapiclient/_helpers.py\", line 130, in positional_wrapper\r\n        return wrapped(*args, **kwargs)   \r\n        File \"/usr/local/lib/python3.7/site-packages/googleapiclient/http.py\", line 851, in execute\r\n        method=str(self.method), body=self.body, headers=self.headers)   \r\n        File \"/usr/local/lib/python3.7/site-packages/googleapiclient/http.py\", line 153, in _retry_request\r\n        for retry_num in range(num_retries + 1): TypeError: unsupported operand type(s) for +: 'NoneType' and 'int'\r\n```\r\n\r\n### Tests\r\n\r\n- [x] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:\r\n* `TestBigQueryHookWithNumRetries.test_num_retries_is_not_none_by_default`\r\n### Commits\r\n\r\n- [x] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [x] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - All the public functions and the classes in the PR contain docstrings that explain what it does\r\n  - If you implement backwards incompatible changes, please leave a note in the [Updating.md](https://github.com/apache/airflow/blob/master/UPDATING.md) so we can assign it to a appropriate release\r\n\r\n### Code Quality\r\n\r\n- [x] Passes `flake8`\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/5560",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/5560/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/5560/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/5560/events",
        "html_url": "https://github.com/apache/airflow/pull/5560",
        "id": 466949995,
        "node_id": "MDExOlB1bGxSZXF1ZXN0Mjk2Njk3MzU2",
        "number": 5560,
        "title": "[AIRFLOW-1740] Fix xcom creation and update via RBAC UI",
        "user": {
            "login": "feluelle",
            "id": 23282078,
            "node_id": "MDQ6VXNlcjIzMjgyMDc4",
            "avatar_url": "https://avatars.githubusercontent.com/u/23282078?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/feluelle",
            "html_url": "https://github.com/feluelle",
            "followers_url": "https://api.github.com/users/feluelle/followers",
            "following_url": "https://api.github.com/users/feluelle/following{/other_user}",
            "gists_url": "https://api.github.com/users/feluelle/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/feluelle/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/feluelle/subscriptions",
            "organizations_url": "https://api.github.com/users/feluelle/orgs",
            "repos_url": "https://api.github.com/users/feluelle/repos",
            "events_url": "https://api.github.com/users/feluelle/events{/privacy}",
            "received_events_url": "https://api.github.com/users/feluelle/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2019-07-11T15:06:02Z",
        "updated_at": "2019-07-13T09:38:28Z",
        "closed_at": "2019-07-11T17:31:44Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/5560",
            "html_url": "https://github.com/apache/airflow/pull/5560",
            "diff_url": "https://github.com/apache/airflow/pull/5560.diff",
            "patch_url": "https://github.com/apache/airflow/pull/5560.patch"
        },
        "body": "Make sure you have checked _all_ steps below.\r\n\r\n### Jira\r\n\r\n- [x] My PR addresses the following [Airflow Jira](https://issues.apache.org/jira/browse/AIRFLOW/) issues and references them in the PR title. For example, \"\\[AIRFLOW-XXX\\] My Airflow PR\"\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-1740\r\n  - In case you are fixing a typo in the documentation you can prepend your commit with \\[AIRFLOW-XXX\\], code changes always need a Jira issue.\r\n  - In case you are proposing a fundamental code change, you need to create an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)).\r\n  - In case you are adding a dependency, check if the license complies with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\n\r\n### Description\r\n\r\n- [x] Here are some details about my PR, including screenshots of any UI changes:\r\n\r\nFixes the xcom creation and update via the RBAC UI.\r\nIt fixes two issues:\r\n1. `sqlalchemy.exc.StatementError: (builtins.TypeError) memoryview: a bytes-like object is required, not 'str' [SQL: 'INSERT INTO xcom (\"key\", value, timestamp, execution_date, task_id, dag_id) VALUES (?, ?, ?, ?, ?, ?)'] [parameters: [{'value': 'value1', 'dag_id': 'example_bash_operator', 'key': 'key1', 'execution_date': datetime.datetime(2019, 7, 4, 16, 42, 23), 'task_id': 'run_me_0'}]]`\r\n2. `sqlalchemy.exc.StatementError: (builtins.ValueError) naive datetime is disallowed [SQL: 'INSERT INTO xcom (key, value, timestamp, execution_date, task_id, dag_id) VALUES (%(key)s, %(value)s, %(timestamp)s, %(execution_date)s, %(task_id)s, %(dag_id)s) RETURNING xcom.id'] [parameters: [{'task_id': 'run_me_0', 'value': 'value1', 'dag_id': 'example_bash_operator', 'key': 'key1', 'execution_date': datetime.datetime(2019, 7, 4, 16, 30, 54)}]]`\r\n\r\ncc @ashb \r\n\r\n### Tests\r\n\r\n- [x] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:\r\n\r\n### Commits\r\n\r\n- [x] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [x] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - All the public functions and the classes in the PR contain docstrings that explain what it does\r\n  - If you implement backwards incompatible changes, please leave a note in the [Updating.md](https://github.com/apache/airflow/blob/master/UPDATING.md) so we can assign it to a appropriate release\r\n\r\n### Code Quality\r\n\r\n- [x] Passes `flake8`\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/5530",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/5530/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/5530/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/5530/events",
        "html_url": "https://github.com/apache/airflow/pull/5530",
        "id": 463998256,
        "node_id": "MDExOlB1bGxSZXF1ZXN0Mjk0MzY3NTE1",
        "number": 5530,
        "title": "[AIRFLOW-1740] Fix xcom creation and update via UI",
        "user": {
            "login": "feluelle",
            "id": 23282078,
            "node_id": "MDQ6VXNlcjIzMjgyMDc4",
            "avatar_url": "https://avatars.githubusercontent.com/u/23282078?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/feluelle",
            "html_url": "https://github.com/feluelle",
            "followers_url": "https://api.github.com/users/feluelle/followers",
            "following_url": "https://api.github.com/users/feluelle/following{/other_user}",
            "gists_url": "https://api.github.com/users/feluelle/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/feluelle/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/feluelle/subscriptions",
            "organizations_url": "https://api.github.com/users/feluelle/orgs",
            "repos_url": "https://api.github.com/users/feluelle/repos",
            "events_url": "https://api.github.com/users/feluelle/events{/privacy}",
            "received_events_url": "https://api.github.com/users/feluelle/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2019-07-03T23:50:56Z",
        "updated_at": "2019-07-13T09:38:01Z",
        "closed_at": "2019-07-11T17:22:16Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/5530",
            "html_url": "https://github.com/apache/airflow/pull/5530",
            "diff_url": "https://github.com/apache/airflow/pull/5530.diff",
            "patch_url": "https://github.com/apache/airflow/pull/5530.patch"
        },
        "body": "Make sure you have checked _all_ steps below.\r\n\r\n### Jira\r\n\r\n- [x] My PR addresses the following [Airflow Jira](https://issues.apache.org/jira/browse/AIRFLOW/) issues and references them in the PR title. For example, \"\\[AIRFLOW-XXX\\] My Airflow PR\"\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-1740\r\n  - In case you are fixing a typo in the documentation you can prepend your commit with \\[AIRFLOW-XXX\\], code changes always need a Jira issue.\r\n  - In case you are proposing a fundamental code change, you need to create an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)).\r\n  - In case you are adding a dependency, check if the license complies with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\n\r\n### Description\r\n\r\n- [x] Here are some details about my PR, including screenshots of any UI changes:\r\n\r\nFixes the xcom creation and update via the classic UI.\r\nIssue: `sqlalchemy.exc.StatementError: (builtins.TypeError) memoryview: a bytes-like object is required, not 'str' [SQL: 'INSERT INTO xcom (\"key\", value, timestamp, execution_date, task_id, dag_id) VALUES (?, ?, ?, ?, ?, ?)'] [parameters: [{'value': 'value1', 'dag_id': 'example_bash_operator', 'key': 'key1', 'execution_date': datetime.datetime(2019, 7, 4, 16, 42, 23), 'task_id': 'run_me_0'}]]`\r\n\r\n### Tests\r\n\r\n- [x] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:\r\n\r\n### Commits\r\n\r\n- [x] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [x] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - All the public functions and the classes in the PR contain docstrings that explain what it does\r\n  - If you implement backwards incompatible changes, please leave a note in the [Updating.md](https://github.com/apache/airflow/blob/master/UPDATING.md) so we can assign it to a appropriate release\r\n\r\n### Code Quality\r\n\r\n- [x] Passes `flake8`\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/3831",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/3831/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/3831/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/3831/events",
        "html_url": "https://github.com/apache/airflow/pull/3831",
        "id": 356162133,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MjEyNTIyNjk0",
        "number": 3831,
        "title": "[AIRFLOW-2981] Fix TypeError in dataflow operators",
        "user": {
            "login": "kaxil",
            "id": 8811558,
            "node_id": "MDQ6VXNlcjg4MTE1NTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kaxil",
            "html_url": "https://github.com/kaxil",
            "followers_url": "https://api.github.com/users/kaxil/followers",
            "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
            "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
            "organizations_url": "https://api.github.com/users/kaxil/orgs",
            "repos_url": "https://api.github.com/users/kaxil/repos",
            "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kaxil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2018-09-01T01:58:11Z",
        "updated_at": "2019-01-08T23:18:17Z",
        "closed_at": "2018-09-01T10:33:48Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/3831",
            "html_url": "https://github.com/apache/airflow/pull/3831",
            "diff_url": "https://github.com/apache/airflow/pull/3831.diff",
            "patch_url": "https://github.com/apache/airflow/pull/3831.patch"
        },
        "body": "Make sure you have checked _all_ steps below.\r\n\r\n### Jira\r\n\r\n- [x] My PR addresses the following [Airflow Jira](https://issues.apache.org/jira/browse/AIRFLOW/) issues and references them in the PR title. For example, \"\\[AIRFLOW-XXX\\] My Airflow PR\"\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-2981\r\n  - In case you are fixing a typo in the documentation you can prepend your commit with \\[AIRFLOW-XXX\\], code changes always need a Jira issue.\r\n\r\n### Description\r\n\r\n- [x] Here are some details about my PR, including screenshots of any UI changes:\r\nThe `GoogleCloudBucketHelper.google_cloud_to_local` function attempts to compare a list to an int, resulting in the TypeError, with:\r\n\r\n```\r\n...\r\npath_components = file_name[self.GCS_PREFIX_LENGTH:].split('/')\r\nif path_components < 2:\r\n```\r\n\r\n\r\n### Tests\r\n\r\n- [x] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:\r\n- `GoogleCloudBucketHelperTest. test_invalid_object_path`\r\n### Commits\r\n\r\n- [x] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [x] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - When adding new operators/hooks/sensors, the autoclass documentation generation needs to be added.\r\n\r\n### Code Quality\r\n\r\n- [x] Passes `git diff upstream/master -u -- \"*.py\" | flake8 --diff`\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/5399",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/5399/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/5399/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/5399/events",
        "html_url": "https://github.com/apache/airflow/pull/5399",
        "id": 454049650,
        "node_id": "MDExOlB1bGxSZXF1ZXN0Mjg2NTgwMjI5",
        "number": 5399,
        "title": "[AIRFLOW-4756] fix gantt view error after clearing failed task",
        "user": {
            "login": "dstandish",
            "id": 15932138,
            "node_id": "MDQ6VXNlcjE1OTMyMTM4",
            "avatar_url": "https://avatars.githubusercontent.com/u/15932138?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dstandish",
            "html_url": "https://github.com/dstandish",
            "followers_url": "https://api.github.com/users/dstandish/followers",
            "following_url": "https://api.github.com/users/dstandish/following{/other_user}",
            "gists_url": "https://api.github.com/users/dstandish/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dstandish/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dstandish/subscriptions",
            "organizations_url": "https://api.github.com/users/dstandish/orgs",
            "repos_url": "https://api.github.com/users/dstandish/repos",
            "events_url": "https://api.github.com/users/dstandish/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dstandish/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2019-06-10T08:12:56Z",
        "updated_at": "2019-06-11T18:52:38Z",
        "closed_at": "2019-06-11T12:15:05Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/5399",
            "html_url": "https://github.com/apache/airflow/pull/5399",
            "diff_url": "https://github.com/apache/airflow/pull/5399.diff",
            "patch_url": "https://github.com/apache/airflow/pull/5399.patch"
        },
        "body": "Make sure you have checked _all_ steps below.\r\n\r\n### Jira\r\n\r\n- [ ] My PR addresses the following [Airflow Jira](https://issues.apache.org/jira/browse/AIRFLOW/) issues and references them in the PR title. For example, \"\\[AIRFLOW-XXX\\] My Airflow PR\"\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-XXX\r\n  - In case you are fixing a typo in the documentation you can prepend your commit with \\[AIRFLOW-XXX\\], code changes always need a Jira issue.\r\n  - In case you are proposing a fundamental code change, you need to create an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)).\r\n  - In case you are adding a dependency, check if the license complies with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\n\r\n### Description\r\n\r\nResolves [AIRFLOW-4756](https://issues.apache.org/jira/browse/AIRFLOW-4756).\r\n\r\nPreviously, if you have a long-running dag run, and a task fails, and you clear it, then until the cleared task starts running again, viewing gantt chart will throw a json encode error.\r\n\r\nIt appears this is because current gantt view logic uses ti.start_date to select tis for inclusion in gantt chart.  And when you clear a TI, it only nulls out the state -- not the start_date -- so these cleared TIs would still be added to `tis` even though they have been cleared and thus have no state. And for whatever reason, json conversion does not like None type for state. \r\n\r\nThis solution just adds a check to ensure state is not None for TI inclusion in gantt.\r\n\r\nRelevant error bit is here:\r\n```  File \"/Users/dstandish/.virtualenvs/scratch/lib/python3.7/site-packages/airflow/www/templates/airflow/gantt.html\", line 58, in block \"tail\"\r\n    data = {{ data |tojson|safe }};\r\n  File \"/Users/dstandish/.virtualenvs/scratch/lib/python3.7/site-packages/flask/json/__init__.py\", line 327, in tojson_filter\r\n    return Markup(htmlsafe_dumps(obj, **kwargs))\r\n  File \"/Users/dstandish/.virtualenvs/scratch/lib/python3.7/site-packages/flask/json/__init__.py\", line 242, in htmlsafe_dumps\r\n    rv = dumps(obj, **kwargs) \\\r\n  File \"/Users/dstandish/.virtualenvs/scratch/lib/python3.7/site-packages/flask/json/__init__.py\", line 179, in dumps\r\n    rv = _json.dumps(obj, **kwargs)\r\n  File \"/usr/local/Cellar/python/3.7.3/Frameworks/Python.framework/Versions/3.7/lib/python3.7/json/__init__.py\", line 238, in dumps\r\n    **kw).encode(obj)\r\n  File \"/usr/local/Cellar/python/3.7.3/Frameworks/Python.framework/Versions/3.7/lib/python3.7/json/encoder.py\", line 199, in encode\r\n    chunks = self.iterencode(o, _one_shot=True)\r\n  File \"/usr/local/Cellar/python/3.7.3/Frameworks/Python.framework/Versions/3.7/lib/python3.7/json/encoder.py\", line 257, in iterencode\r\n    return _iterencode(o, 0)\r\nTypeError: '<' not supported between instances of 'NoneType' and 'str'\r\n```\r\n\r\n### Tests\r\n\r\n- [ ] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason: \r\n\r\n### Commits\r\n\r\n- [ ] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [ ] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - All the public functions and the classes in the PR contain docstrings that explain what it does\r\n  - If you implement backwards incompatible changes, please leave a note in the [Updating.md](https://github.com/apache/airflow/blob/master/UPDATING.md) so we can assign it to a appropriate release\r\n\r\n### Code Quality\r\n\r\n- [ ] Passes `flake8`\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/4371",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/4371/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/4371/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/4371/events",
        "html_url": "https://github.com/apache/airflow/pull/4371",
        "id": 394127458,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MjQwOTQ5MTcy",
        "number": 4371,
        "title": "[AIRFLOW-2939][AIRFLOW-3568] fix TypeError on GoogleCloudStorageToS3Operator / S3ToGoogleCloudStorageOperator",
        "user": {
            "login": "yohei1126",
            "id": 407811,
            "node_id": "MDQ6VXNlcjQwNzgxMQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/407811?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yohei1126",
            "html_url": "https://github.com/yohei1126",
            "followers_url": "https://api.github.com/users/yohei1126/followers",
            "following_url": "https://api.github.com/users/yohei1126/following{/other_user}",
            "gists_url": "https://api.github.com/users/yohei1126/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yohei1126/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yohei1126/subscriptions",
            "organizations_url": "https://api.github.com/users/yohei1126/orgs",
            "repos_url": "https://api.github.com/users/yohei1126/repos",
            "events_url": "https://api.github.com/users/yohei1126/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yohei1126/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2018-12-26T09:38:36Z",
        "updated_at": "2018-12-30T03:13:04Z",
        "closed_at": "2018-12-30T00:09:02Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/4371",
            "html_url": "https://github.com/apache/airflow/pull/4371",
            "diff_url": "https://github.com/apache/airflow/pull/4371.diff",
            "patch_url": "https://github.com/apache/airflow/pull/4371.patch"
        },
        "body": "### Jira\r\n\r\n- [x] My PR addresses the following [Airflow Jira](https://issues.apache.org/jira/browse/AIRFLOW/) issues and references them in the PR title. For example, \"\\[AIRFLOW-XXX\\] My Airflow PR\"\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-2939\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-3568\r\n  - In case you are fixing a typo in the documentation you can prepend your commit with \\[AIRFLOW-XXX\\], code changes always need a Jira issue.\r\n\r\n### Description\r\n\r\n- [x] Here are some details about my PR, including screenshots of any UI changes:\r\n - A task created by GoogleCloudStorageToS3Operator or S3ToGoogleCloudStorageOperator always fail due to a type error `TypeError: 'NoneType' object is not iterable`.\r\n - `model.py` tries to push the return value from the operators, which is a file list as set, to xcom but xcom_push does not support set.  According to the traceback `model.py` internally uses `json.dumps(value).encode` but it does not support `set` since `set` is not JSON serializable\r\n\r\n```\r\nTraceback (most recent call last)\r\n  File \"/usr/local/lib/airflow/airflow/models.py\", line 1637, in _run_raw_tas\r\n    self.xcom_push(key=XCOM_RETURN_KEY, value=result\r\n  File \"/usr/local/lib/airflow/airflow/models.py\", line 1983, in xcom_pus\r\n    execution_date=execution_date or self.execution_date\r\n  File \"/usr/local/lib/airflow/airflow/utils/db.py\", line 74, in wrappe\r\n    return func(*args, **kwargs\r\n  File \"/usr/local/lib/airflow/airflow/models.py\", line 4531, in se\r\n    value = json.dumps(value).encode('UTF-8'\r\n  File \"/usr/local/lib/python3.6/json/__init__.py\", line 231, in dump\r\n    return _default_encoder.encode(obj\r\n  File \"/usr/local/lib/python3.6/json/encoder.py\", line 199, in encod\r\n    chunks = self.iterencode(o, _one_shot=True\r\n  File \"/usr/local/lib/python3.6/json/encoder.py\", line 257, in iterencod\r\n    return _iterencode(o, 0\r\n  File \"/usr/local/lib/python3.6/json/encoder.py\", line 180, in defaul\r\n    o.__class__.__name__\r\nTypeError: Object of type 'set' is not JSON serializabl\r\n```\r\n\r\n### Tests\r\n\r\n- [x] These operators has unit tests so my PR does not add new unit tests:\r\n - test_gcs_to_s3_operator.py\r\n - test_s3_list_operator.py\r\n\r\n### Commits\r\n\r\n- [x] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [x] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - When adding new operators/hooks/sensors, the autoclass documentation generation needs to be added.\r\n  - All the public functions and the classes in the PR contain docstrings that explain what it does\r\n\r\n### Code Quality\r\n\r\n- [x] Passes `flake8`\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/4713",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/4713/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/4713/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/4713/events",
        "html_url": "https://github.com/apache/airflow/pull/4713",
        "id": 410605782,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MjUzMzA4NjUy",
        "number": 4713,
        "title": "[AIRFLOW-3887] Downgrade dagre-d3 to 0.4.18",
        "user": {
            "login": "astahlman",
            "id": 1173394,
            "node_id": "MDQ6VXNlcjExNzMzOTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1173394?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/astahlman",
            "html_url": "https://github.com/astahlman",
            "followers_url": "https://api.github.com/users/astahlman/followers",
            "following_url": "https://api.github.com/users/astahlman/following{/other_user}",
            "gists_url": "https://api.github.com/users/astahlman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/astahlman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/astahlman/subscriptions",
            "organizations_url": "https://api.github.com/users/astahlman/orgs",
            "repos_url": "https://api.github.com/users/astahlman/repos",
            "events_url": "https://api.github.com/users/astahlman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/astahlman/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2019-02-15T04:58:48Z",
        "updated_at": "2019-02-15T05:33:50Z",
        "closed_at": "2019-02-15T05:33:50Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/4713",
            "html_url": "https://github.com/apache/airflow/pull/4713",
            "diff_url": "https://github.com/apache/airflow/pull/4713.diff",
            "patch_url": "https://github.com/apache/airflow/pull/4713.patch"
        },
        "body": "Make sure you have checked _all_ steps below.\r\n\r\n### Jira\r\n\r\n- [ X ] My PR addresses the following [Airflow Jira](https://issues.apache.org/jira/browse/AIRFLOW/) issues and references them in the PR title. For example, \"\\[AIRFLOW-XXX\\] My Airflow PR\"\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-3887\r\n  - In case you are fixing a typo in the documentation you can prepend your commit with \\[AIRFLOW-XXX\\], code changes always need a Jira issue.\r\n\r\n### Description\r\n\r\n- [ X ] Here are some details about my PR, including screenshots of any UI changes:\r\n\r\ndagre-d3 v0.6.3 has a bug that causes this Javascript error when loading\r\nthe Graph View:\r\n\r\n    TypeError: previousPaths.merge is not a function\r\n\r\nThe bug fix [1] has been merged to master, but hasn't been released to\r\nnpm yet. This change temporarily downgrades our version of dagre-d3\r\nuntil dagre-d3 v0.6.4 is released [2]\r\n\r\nI also fixed a bug I encountered in the `compile_assets.sh` where the\r\nscript would fail if the directory `airflow/www/static/dist/` exists but\r\nis empty.\r\n\r\n[1] https://github.com/dagrejs/dagre-d3/pull/350\r\n[2] https://github.com/dagrejs/dagre-d3/blob/5450627790ff42012ef50cef6b0e220199ae4fbe/package.json#L3\r\n\r\n### Tests\r\n\r\n- [ ] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:\r\n\r\n### Commits\r\n\r\n- [ X ] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [ ] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - When adding new operators/hooks/sensors, the autoclass documentation generation needs to be added.\r\n  - All the public functions and the classes in the PR contain docstrings that explain what it does\r\n\r\n### Code Quality\r\n\r\n- [ X ] Passes `flake8`\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/4674",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/4674/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/4674/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/4674/events",
        "html_url": "https://github.com/apache/airflow/pull/4674",
        "id": 408292375,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MjUxNTczMTQw",
        "number": 4674,
        "title": "[AIRFLOW-3742] Fix handling of \"fallback\" for int/boolean config option",
        "user": {
            "login": "ttanay",
            "id": 26265392,
            "node_id": "MDQ6VXNlcjI2MjY1Mzky",
            "avatar_url": "https://avatars.githubusercontent.com/u/26265392?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ttanay",
            "html_url": "https://github.com/ttanay",
            "followers_url": "https://api.github.com/users/ttanay/followers",
            "following_url": "https://api.github.com/users/ttanay/following{/other_user}",
            "gists_url": "https://api.github.com/users/ttanay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ttanay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ttanay/subscriptions",
            "organizations_url": "https://api.github.com/users/ttanay/orgs",
            "repos_url": "https://api.github.com/users/ttanay/repos",
            "events_url": "https://api.github.com/users/ttanay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ttanay/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2019-02-08T19:29:38Z",
        "updated_at": "2019-02-11T17:53:04Z",
        "closed_at": "2019-02-11T09:53:56Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/4674",
            "html_url": "https://github.com/apache/airflow/pull/4674",
            "diff_url": "https://github.com/apache/airflow/pull/4674.diff",
            "patch_url": "https://github.com/apache/airflow/pull/4674.patch"
        },
        "body": "Support for a fallback kwarg was added in `AirflowConfigParser.get`\r\nin [AIRFLOW-3742], but, `AirflowConfigParser.getboolean` also needs\r\nto support it.\r\n\r\nMake sure you have checked _all_ steps below.\r\n\r\n### Jira\r\n\r\n- [X] My PR addresses the following [Airflow Jira](https://issues.apache.org/jira/browse/AIRFLOW/) issues and references them in the PR title. For example, \"\\[AIRFLOW-XXX\\] My Airflow PR\"\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-3852\r\n  - In case you are fixing a typo in the documentation you can prepend your commit with \\[AIRFLOW-XXX\\], code changes always need a Jira issue.\r\n\r\n### Description\r\n\r\n- [X] Here are some details about my PR, including screenshots of any UI changes:\r\n\r\nOn the latest master, when I ran `airflow worker`, I got the following error:\r\n```\r\n[2019-02-09 00:12:25,983] {__init__.py:51} INFO - Using executor SequentialExecutor\r\nTraceback (most recent call last):\r\nFile \"/home/tanay/Coding/airflow/.env/bin/airflow\", line 6, in <module>\r\nexec(compile(open(__file__).read(), __file__, 'exec'))\r\nFile \"/home/tanay/Coding/airflow/airflow/bin/airflow\", line 32, in <module>\r\nargs.func(args)\r\nFile \"/home/tanay/Coding/airflow/airflow/utils/cli.py\", line 74, in wrapper\r\nreturn f(*args, **kwargs)\r\nFile \"/home/tanay/Coding/airflow/airflow/bin/cli.py\", line 1058, in worker\r\nif not settings.validate_session():\r\nFile \"/home/tanay/Coding/airflow/airflow/settings.py\", line 226, in validate_session\r\nworker_precheck = conf.getboolean('core', 'worker_precheck', fallback=False)\r\nTypeError: getboolean() got an unexpected keyword argument 'fallback'\r\n```\r\nSupport for a `fallback` kwarg in `AirflowConfigParser.get` was added by @ashb in https://github.com/apache/airflow/pull/4567.\r\nSupport for it also needs to be in `AirflowConfigParser.getboolean`.\r\n\r\n\r\n### Tests\r\n\r\n- [X] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:\r\nNot Needed.\r\n### Commits\r\n\r\n- [X] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [X] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - When adding new operators/hooks/sensors, the autoclass documentation generation needs to be added.\r\n  - All the public functions and the classes in the PR contain docstrings that explain what it does\r\n\r\n### Code Quality\r\n\r\n- [X] Passes `flake8`\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/4384",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/4384/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/4384/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/4384/events",
        "html_url": "https://github.com/apache/airflow/pull/4384",
        "id": 394450029,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MjQxMTk0ODY4",
        "number": 4384,
        "title": "[AIRFLOW-3578] Fix Type Error for BigQueryOperator",
        "user": {
            "login": "kaxil",
            "id": 8811558,
            "node_id": "MDQ6VXNlcjg4MTE1NTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kaxil",
            "html_url": "https://github.com/kaxil",
            "followers_url": "https://api.github.com/users/kaxil/followers",
            "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
            "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
            "organizations_url": "https://api.github.com/users/kaxil/orgs",
            "repos_url": "https://api.github.com/users/kaxil/repos",
            "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kaxil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2018-12-27T17:30:29Z",
        "updated_at": "2019-01-08T23:18:46Z",
        "closed_at": "2019-01-02T12:36:23Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/4384",
            "html_url": "https://github.com/apache/airflow/pull/4384",
            "diff_url": "https://github.com/apache/airflow/pull/4384.diff",
            "patch_url": "https://github.com/apache/airflow/pull/4384.patch"
        },
        "body": "Make sure you have checked _all_ steps below.\r\n\r\n### Jira\r\n\r\n- [x] My PR addresses the following [Airflow Jira](https://issues.apache.org/jira/browse/AIRFLOW/) issues and references them in the PR title. \r\n  - https://issues.apache.org/jira/browse/AIRFLOW-3578\r\n\r\n\r\n### Description\r\n\r\n- [x] Here are some details about my PR, including screenshots of any UI changes:\r\n\r\nThe error is because it just checks for `str` type and not `unicode` but as **`sql` is a templated field it returns unicode and not str**\r\n\r\n**Error**:\r\n```\r\n[2018-12-27 13:33:08,756] {__init__.py:1548} ERROR - query argument must have a type <type 'str'> not <type 'unicode'>\r\nTraceback (most recent call last):\r\n  File \"/Users/kaxil/Documents/GitHub/incubator-airflow/airflow/models/__init__.py\", line 1431, in _run_raw_task\r\n    result = task_copy.execute(context=context)\r\n  File \"/Users/kaxil/Documents/GitHub/incubator-airflow/airflow/contrib/operators/bigquery_operator.py\", line 176, in execute\r\n    cluster_fields=self.cluster_fields,\r\n  File \"/Users/kaxil/Documents/GitHub/incubator-airflow/airflow/contrib/hooks/bigquery_hook.py\", line 677, in run_query\r\n    param_type)\r\n  File \"/Users/kaxil/Documents/GitHub/incubator-airflow/airflow/contrib/hooks/bigquery_hook.py\", line 1903, in _validate_value\r\n    key, expected_type, type(value)))\r\nTypeError: query argument must have a type <type 'str'> not <type 'unicode'>\r\n```\r\n\r\n### Tests\r\n\r\n- [x] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:\r\nAdded tests\r\n\r\n### Commits\r\n\r\n- [x] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [x] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - When adding new operators/hooks/sensors, the autoclass documentation generation needs to be added.\r\n  - All the public functions and the classes in the PR contain docstrings that explain what it does\r\n\r\n### Code Quality\r\n\r\n- [x] Passes `flake8`\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/4238",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/4238/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/4238/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/4238/events",
        "html_url": "https://github.com/apache/airflow/pull/4238",
        "id": 384164916,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MjMzNDMxOTE1",
        "number": 4238,
        "title": "[AIRFLOW-987] pass kerberos cli args keytab and principal to kerberos\u2026",
        "user": {
            "login": "xnuinside",
            "id": 15959809,
            "node_id": "MDQ6VXNlcjE1OTU5ODA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/15959809?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xnuinside",
            "html_url": "https://github.com/xnuinside",
            "followers_url": "https://api.github.com/users/xnuinside/followers",
            "following_url": "https://api.github.com/users/xnuinside/following{/other_user}",
            "gists_url": "https://api.github.com/users/xnuinside/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xnuinside/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xnuinside/subscriptions",
            "organizations_url": "https://api.github.com/users/xnuinside/orgs",
            "repos_url": "https://api.github.com/users/xnuinside/repos",
            "events_url": "https://api.github.com/users/xnuinside/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xnuinside/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2018-11-26T03:56:25Z",
        "updated_at": "2018-12-09T22:48:40Z",
        "closed_at": "2018-12-09T22:48:40Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/4238",
            "html_url": "https://github.com/apache/airflow/pull/4238",
            "diff_url": "https://github.com/apache/airflow/pull/4238.diff",
            "patch_url": "https://github.com/apache/airflow/pull/4238.patch"
        },
        "body": "\u2026.run()\r\n\r\nMake sure you have checked _all_ steps below.\r\n\r\n### Jira\r\n\r\n- [x] My PR addresses the following [Airflow Jira](https://issues.apache.org/jira/browse/AIRFLOW/) issues and references them in the PR title. For example, \"\\[AIRFLOW-987]\\] My Airflow PR\"\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-987\r\n  - In case you are fixing a typo in the documentation you can prepend your commit with \\[AIRFLOW-XXX\\], code changes always need a Jira issue.\r\n\r\n### Description\r\n\r\n- [x] Here are some details about my PR, including screenshots of any UI changes:\r\n\r\ndefault=conf.get('kerberos', 'principal')) - removed from cli, because of behavior inside renew_from_kt function. \r\n\r\ninside renew_from_kt we parse conf args one way with one replace type, and if we decide what need to use workaround we parse conf args in perform_krb181_workaround() using the second way\r\n\r\nso, it's not possible to put as default conf value in principal, because this way will be always args.principal and we ca not have 2 different ways how to parse this value\r\n\r\nalso b\"\\n\".join(subp.stdout.readlines()) caused error on 3.5, it was not catched because wasn't covered with tests\r\n\r\nerror in 3.5 - \r\n` b\"\\n\".join(subp.stderr.readlines())))\r\n\r\n   TypeError: sequence item 0: expected a bytes-like object, str found`\r\n### Tests\r\n\r\n- [x] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:\r\n\r\n### Commits\r\n\r\n- [x] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [x] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - When adding new operators/hooks/sensors, the autoclass documentation generation needs to be added.\r\n\r\n### Code Quality\r\n\r\n- [x] Passes `flake8`\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/4559",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/4559/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/4559/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/4559/events",
        "html_url": "https://github.com/apache/airflow/pull/4559",
        "id": 401007466,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MjQ2MDU0MjYy",
        "number": 4559,
        "title": "[AIRFLOW-3732] Fix issue when editing connection in RBAC UI",
        "user": {
            "login": "kaxil",
            "id": 8811558,
            "node_id": "MDQ6VXNlcjg4MTE1NTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8811558?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kaxil",
            "html_url": "https://github.com/kaxil",
            "followers_url": "https://api.github.com/users/kaxil/followers",
            "following_url": "https://api.github.com/users/kaxil/following{/other_user}",
            "gists_url": "https://api.github.com/users/kaxil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kaxil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kaxil/subscriptions",
            "organizations_url": "https://api.github.com/users/kaxil/orgs",
            "repos_url": "https://api.github.com/users/kaxil/repos",
            "events_url": "https://api.github.com/users/kaxil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kaxil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2019-01-19T15:46:34Z",
        "updated_at": "2019-01-21T19:45:33Z",
        "closed_at": "2019-01-21T19:45:29Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/4559",
            "html_url": "https://github.com/apache/airflow/pull/4559",
            "diff_url": "https://github.com/apache/airflow/pull/4559.diff",
            "patch_url": "https://github.com/apache/airflow/pull/4559.patch"
        },
        "body": "Make sure you have checked _all_ steps below.\r\n\r\n### Jira\r\n\r\n- [x] My PR addresses the following [Airflow Jira](https://issues.apache.org/jira/browse/AIRFLOW/) issues and references them in the PR title. For example, \"\\[AIRFLOW-XXX\\] My Airflow PR\"\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-3732\r\n\r\n\r\n### Description\r\n\r\n- [x] Here are some details about my PR, including screenshots of any UI changes:\r\n\r\nError:\r\n```\r\n\r\n                          ____/ (  (    )   )  \\___\r\n                         /( (  (  )   _    ))  )   )\\\r\n                       ((     (   )(    )  )   (   )  )\r\n                     ((/  ( _(   )   (   _) ) (  () )  )\r\n                    ( (  ( (_)   ((    (   )  .((_ ) .  )_\r\n                   ( (  )    (      (  )    )   ) . ) (   )\r\n                  (  (   (  (   ) (  _  ( _) ).  ) . ) ) ( )\r\n                  ( (  (   ) (  )   (  ))     ) _)(   )  )  )\r\n                 ( (  ( \\ ) (    (_  ( ) ( )  )   ) )  )) ( )\r\n                  (  (   (  (   (_ ( ) ( _    )  ) (  )  )   )\r\n                 ( (  ( (  (  )     (_  )  ) )  _)   ) _( ( )\r\n                  ((  (   )(    (     _    )   _) _(_ (  (_ )\r\n                   (_((__(_(__(( ( ( |  ) ) ) )_))__))_)___)\r\n                   ((__)        \\\\||lll|l||///          \\_))\r\n                            (   /(/ (  )  ) )\\   )\r\n                          (    ( ( ( | | ) ) )\\   )\r\n                           (   /(| / ( )) ) ) )) )\r\n                         (     ( ((((_(|)_)))))     )\r\n                          (      ||\\(|(|)|/||     )\r\n                        (        |(||(||)||||        )\r\n                          (     //|/l|||)|\\\\ \\     )\r\n                        (/ / //  /|//||||\\\\  \\ \\  \\ _)\r\n-------------------------------------------------------------------------------\r\nNode: Kaxils-MacBook-Pro.local\r\n-------------------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/flask/app.py\", line 1982, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/flask/app.py\", line 1614, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/flask/app.py\", line 1517, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/flask/app.py\", line 1612, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/flask/app.py\", line 1598, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/flask_appbuilder/security/decorators.py\", line 26, in wraps\r\n    return f(self, *args, **kwargs)\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/flask_appbuilder/views.py\", line 531, in edit\r\n    related_views=self._related_views)\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/flask_appbuilder/baseviews.py\", line 160, in render_template\r\n    return render_template(template, **dict(list(kwargs.items()) + list(self.extra_args.items())))\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/flask/templating.py\", line 134, in render_template\r\n    context, ctx.app)\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/flask/templating.py\", line 116, in _render\r\n    rv = template.render(context)\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/jinja2/environment.py\", line 1008, in render\r\n    return self.environment.handle_exception(exc_info, True)\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/jinja2/environment.py\", line 780, in handle_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/airflow/www_rbac/templates/airflow/conn_edit.html\", line 18, in top-level template code\r\n    {% extends 'appbuilder/general/model/edit.html' %}\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/flask_appbuilder/templates/appbuilder/general/model/edit.html\", line 2, in top-level template code\r\n    {% import 'appbuilder/general/lib.html' as lib %}\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/flask_appbuilder/templates/appbuilder/base.html\", line 1, in top-level template code\r\n    {% extends base_template %}\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/airflow/www_rbac/templates/appbuilder/baselayout.html\", line 19, in top-level template code\r\n    {% import 'appbuilder/baselib.html' as baselib %}\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/flask_appbuilder/templates/appbuilder/init.html\", line 60, in top-level template code\r\n    {% block tail %}\r\n  File \"/Users/kaxil/.virtualenvs/airflow_1.10.2rc2/lib/python2.7/site-packages/airflow/www_rbac/templates/airflow/conn_edit.html\", line 22, in block \"tail\"\r\n    <script src=\"{{ url_for_asset('static', filename='connectionForm.js') }}\"></script>\r\nTypeError: get_asset_url() got multiple values for keyword argument 'filename'\r\n```\r\n![image](https://user-images.githubusercontent.com/8811558/51428899-47672d80-1c01-11e9-9fda-8ee428e1c20e.png)\r\n![image](https://user-images.githubusercontent.com/8811558/51428903-4cc47800-1c01-11e9-8b66-2f9bb9142331.png)\r\n\r\n\r\n### Tests\r\n\r\n- [ ] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:\r\n\r\n### Commits\r\n\r\n- [x] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [x] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - When adding new operators/hooks/sensors, the autoclass documentation generation needs to be added.\r\n  - All the public functions and the classes in the PR contain docstrings that explain what it does\r\n\r\n### Code Quality\r\n\r\n- [x] Passes `flake8`\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/3690",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/3690/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/3690/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/3690/events",
        "html_url": "https://github.com/apache/airflow/pull/3690",
        "id": 347537666,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MjA2MTQwMDc3",
        "number": 3690,
        "title": "[AIRFLOW-2845] Remove asserts from the contrib package",
        "user": {
            "login": "xnuinside",
            "id": 15959809,
            "node_id": "MDQ6VXNlcjE1OTU5ODA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/15959809?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xnuinside",
            "html_url": "https://github.com/xnuinside",
            "followers_url": "https://api.github.com/users/xnuinside/followers",
            "following_url": "https://api.github.com/users/xnuinside/following{/other_user}",
            "gists_url": "https://api.github.com/users/xnuinside/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xnuinside/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xnuinside/subscriptions",
            "organizations_url": "https://api.github.com/users/xnuinside/orgs",
            "repos_url": "https://api.github.com/users/xnuinside/repos",
            "events_url": "https://api.github.com/users/xnuinside/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xnuinside/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2018-08-03T21:12:24Z",
        "updated_at": "2018-08-06T13:40:19Z",
        "closed_at": "2018-08-06T09:23:18Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/3690",
            "html_url": "https://github.com/apache/airflow/pull/3690",
            "diff_url": "https://github.com/apache/airflow/pull/3690.diff",
            "patch_url": "https://github.com/apache/airflow/pull/3690.patch"
        },
        "body": "Make sure you have checked _all_ steps below.\r\n\r\n### Jira\r\n\r\n- [x] My PR addresses the following [AIRFLOW-2845](https://issues.apache.org/jira/projects/AIRFLOW/issues/AIRFLOW-2845) issues and references them in the PR title. For example, \"\\[AIRFLOW-XXX\\] My Airflow PR\"\r\n  - https://issues.apache.org/jira/browse/AIRFLOW-XXX\r\n  - In case you are fixing a typo in the documentation you can prepend your commit with \\[AIRFLOW-XXX\\], code changes always need a Jira issue.\r\n\r\n### Description\r\n\r\n- [x] Here are some details about my PR, including screenshots of any UI changes:\r\n`asserts` is used in Airflow contrib package code .  And from point of view for which purposes asserts are really is, it's not correct.\r\n\r\nIf we look at documentation we could find information what asserts is debug tool: https://docs.python.org/3/reference/simple_stmts.html#the-assert-statement and also it is could be disabled globally by default. \r\n\r\nSo, I just want to change debug asserts to ValueError and TypeError.\r\n### Tests\r\n\r\n- [x] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:\r\nIt's covered by existing tests. No new features or important changes. \r\n\r\n### Commits\r\n\r\n- [x] My commits all reference Jira issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from \"[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)\":\r\n  1. Subject is separated from body by a blank line\r\n  1. Subject is limited to 50 characters (not including Jira issue reference)\r\n  1. Subject does not end with a period\r\n  1. Subject uses the imperative mood (\"add\", not \"adding\")\r\n  1. Body wraps at 72 characters\r\n  1. Body explains \"what\" and \"why\", not \"how\"\r\n\r\n### Documentation\r\n\r\n- [x] In case of new functionality, my PR adds documentation that describes how to use it.\r\n  - When adding new operators/hooks/sensors, the autoclass documentation generation needs to be added.\r\n\r\n### Code Quality\r\n\r\n- [x] Passes `git diff upstream/master -u -- \"*.py\" | flake8 --diff`\r\n",
        "performed_via_github_app": null,
        "score": 1.0
    },
    {
        "url": "https://api.github.com/repos/apache/airflow/issues/878",
        "repository_url": "https://api.github.com/repos/apache/airflow",
        "labels_url": "https://api.github.com/repos/apache/airflow/issues/878/labels{/name}",
        "comments_url": "https://api.github.com/repos/apache/airflow/issues/878/comments",
        "events_url": "https://api.github.com/repos/apache/airflow/issues/878/events",
        "html_url": "https://github.com/apache/airflow/pull/878",
        "id": 126887351,
        "node_id": "MDExOlB1bGxSZXF1ZXN0NTYxNzc4MTU=",
        "number": 878,
        "title": "state wasn't being saved",
        "user": {
            "login": "abridgett",
            "id": 1436440,
            "node_id": "MDQ6VXNlcjE0MzY0NDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1436440?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abridgett",
            "html_url": "https://github.com/abridgett",
            "followers_url": "https://api.github.com/users/abridgett/followers",
            "following_url": "https://api.github.com/users/abridgett/following{/other_user}",
            "gists_url": "https://api.github.com/users/abridgett/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abridgett/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abridgett/subscriptions",
            "organizations_url": "https://api.github.com/users/abridgett/orgs",
            "repos_url": "https://api.github.com/users/abridgett/repos",
            "events_url": "https://api.github.com/users/abridgett/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abridgett/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2016-01-15T14:52:45Z",
        "updated_at": "2016-01-16T16:03:45Z",
        "closed_at": "2016-01-16T16:03:45Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/apache/airflow/pulls/878",
            "html_url": "https://github.com/apache/airflow/pull/878",
            "diff_url": "https://github.com/apache/airflow/pull/878.diff",
            "patch_url": "https://github.com/apache/airflow/pull/878.patch"
        },
        "body": "Tasks were not being marked as skipped (they were hitting the set_state line though).\n\nNot sure why I had to remove @provide_session - without it I received this stack trace:\n\n```\n[2016-01-15 14:37:59,460] {jobs.py:634} ERROR - set_state() got multiple values\nfor argument 'session'\nTraceback (most recent call last):\n  File \"/opt/airflow/lib/python3.4/site-packages/airflow/jobs.py\", line 631, in\n_execute\n    self.process_dag(dag, executor)\n  File \"/opt/airflow/lib/python3.4/site-packages/airflow/jobs.py\", line 482, in\nprocess_dag\n    elif ti.is_runnable(flag_upstream_failed=True):\n  File \"/opt/airflow/lib/python3.4/site-packages/airflow/models.py\", line 740, i\nn is_runnable\n    return self.is_queueable(flag_upstream_failed) and not self.pool_full()\n  File \"/opt/airflow/lib/python3.4/site-packages/airflow/models.py\", line 730, i\nn is_queueable\n    flag_upstream_failed=flag_upstream_failed)):\n  File \"/opt/airflow/lib/python3.4/site-packages/airflow/models.py\", line 859, i\nn are_dependencies_met\n    self.set_state(State.SKIPPED, session)\n  File \"/opt/airflow/lib/python3.4/site-packages/airflow/utils.py\", line 142, in\n wrapper\n    result = func(*args, **kwargs)\nTypeError: set_state() got multiple values for argument 'session'\n```\n",
        "performed_via_github_app": null,
        "score": 1.0
    }
]