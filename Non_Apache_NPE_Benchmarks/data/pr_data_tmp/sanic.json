[
    {
        "pr": "https://github.com/sanic-org/sanic/pull/2008",
        "repo": "sanic",
        "number": 2008,
        "bug_id": "sanic_2008",
        "title": "Allow Pathlib Path objects to be passed to `app.static()` helper ",
        "body": "This change allows Pathlib Path objects to be passed to the `app.static()` file endpoint register helper fn.\r\n\r\nThis was a feature request from a colleague. He intuitively passed in a `pathlib.Path` object to the `app.static()` helper, and was surprised when it didn't work as expected.\r\n\r\nThis also might be a good time to talk about how difficult it can be sometimes for new users to troubleshoot a problem in Sanic.\r\n\r\nThis is the error my colleague was seeing:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/code/sanic/app.py\", line 1002, in handle_request\r\n    response = await response\r\n  File \"/home/code/sanic/static.py\", line 44, in _static_request_handler\r\n    file_path = path.abspath(unquote(file_path))\r\n  File \"/usr/lib/python3.8/urllib/parse.py\", line 634, in unquote\r\n    if '%' not in string:\r\nTypeError: argument of type 'PosixPath' is not iterable\r\n```\r\n\r\nThis was emitted on the static file response handler, at runtime. It is caused by the use of `unquote()` on file_path. The `unquote()` fn is not pathlib aware, so when `file_path` is a `pathlib.Path` object, we get this error. My colleague does not have a lot of experience with Python, so it was not obvious to him that it was caused by his use of pathlib.Path when registering the Static endpoint.",
        "date": "2021-01-19",
        "files": [
            {
                "sha": "f0943a7da7907dc2f1c5b216671427c61f8259fd",
                "filename": "sanic/static.py",
                "status": "modified",
                "additions": 16,
                "deletions": 3,
                "changes": 19,
                "blob_url": "https://github.com/sanic-org/sanic/blob/6c03dd87b191cf49874935b70bc19646740be089/sanic/static.py",
                "raw_url": "https://github.com/sanic-org/sanic/raw/6c03dd87b191cf49874935b70bc19646740be089/sanic/static.py",
                "contents_url": "https://api.github.com/repos/sanic-org/sanic/contents/sanic/static.py?ref=6c03dd87b191cf49874935b70bc19646740be089"
            },
            {
                "sha": "23ba05d7438ce969e26718703baf606aaeb9c610",
                "filename": "tests/test_static.py",
                "status": "modified",
                "additions": 36,
                "deletions": 1,
                "changes": 37,
                "blob_url": "https://github.com/sanic-org/sanic/blob/6c03dd87b191cf49874935b70bc19646740be089/tests/test_static.py",
                "raw_url": "https://github.com/sanic-org/sanic/raw/6c03dd87b191cf49874935b70bc19646740be089/tests/test_static.py",
                "contents_url": "https://api.github.com/repos/sanic-org/sanic/contents/tests/test_static.py?ref=6c03dd87b191cf49874935b70bc19646740be089"
            }
        ]
    },
    {
        "pr": "https://github.com/sanic-org/sanic/pull/1334",
        "repo": "sanic",
        "number": 1334,
        "bug_id": "sanic_1334",
        "title": "Fix TypeError when use Blueprint.group() to group blueprint with defa\u2026",
        "body": "\u2026ult url_prefix, Use os.path.normpath to avoid invalid url_prefix like api//v1",
        "date": "2018-10-11",
        "files": [
            {
                "sha": "087bb7814305ce015fe07f38b3ca3aab35b63641",
                "filename": "sanic/blueprints.py",
                "status": "modified",
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/sanic-org/sanic/blob/298d5cdf249c9e4a183aa91cdd313403ff161cec/sanic/blueprints.py",
                "raw_url": "https://github.com/sanic-org/sanic/raw/298d5cdf249c9e4a183aa91cdd313403ff161cec/sanic/blueprints.py",
                "contents_url": "https://api.github.com/repos/sanic-org/sanic/contents/sanic/blueprints.py?ref=298d5cdf249c9e4a183aa91cdd313403ff161cec"
            },
            {
                "sha": "7e25264da8b0103bb732f6ed91b9f3d593c34b5e",
                "filename": "tests/test_blueprints.py",
                "status": "modified",
                "additions": 37,
                "deletions": 0,
                "changes": 37,
                "blob_url": "https://github.com/sanic-org/sanic/blob/298d5cdf249c9e4a183aa91cdd313403ff161cec/tests/test_blueprints.py",
                "raw_url": "https://github.com/sanic-org/sanic/raw/298d5cdf249c9e4a183aa91cdd313403ff161cec/tests/test_blueprints.py",
                "contents_url": "https://api.github.com/repos/sanic-org/sanic/contents/tests/test_blueprints.py?ref=298d5cdf249c9e4a183aa91cdd313403ff161cec"
            }
        ]
    }
]